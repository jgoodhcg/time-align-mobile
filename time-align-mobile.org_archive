#    -*- mode: org -*-


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Init the Project
  CLOSED: [2018-06-09 Sat 17:00]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:

#+BEGIN_SRC bash
justin@justin-thinkpad:~/projects/project-init$ docker run -ti -v $HOME/projects/project-init:/usr/app lein-init-project lein new expo time-align-mobile
Retrieving expo/lein-template/0.26.2/lein-template-0.26.2.pom from clojars
Retrieving expo/lein-template/0.26.2/lein-template-0.26.2.jar from clojars
Generating fresh Expo project.
README.md contains instructions to get you started.
If you have any questions, you can ask us on Clojurians #cljsrn channel. http://clojurians.net
justin@justin-thinkpad:~/projects/project-init$ sudo chown -R justin time-align-mobile/
justin@justin-thinkpad:~/projects/project-init$ sudo chgrp -R justin time-align-mobile/
justin@justin-thinkpad:~/projects/project-init$ ls -la
total 28
drwxrwxr-x  4 justin justin 4096 May 12 14:41 .
drwxrwxr-x 13 justin justin 4096 May 12 14:40 ..
-rw-rw-r--  1 justin justin  553 Mar 31 16:37 boot-initer.dockerfile
drwxrwxr-x  7 justin justin 4096 Apr  3 18:25 .git
-rw-rw-r--  1 justin justin  556 May 12 14:01 lein-initer.dockerfile
-rw-rw-r--  1 justin justin  328 Feb  2 13:53 pdfgrep.docker
drwxr-xr-x  6 justin justin 4096 May 12 14:41 time-align-mobile
justin@justin-thinkpad:~/projects/project-init$ mv time-align-mobile/ ../
#+END_SRC


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Initial app-db
  CLOSED: [2018-06-09 Sat 17:00]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:

** DONE Spec (no generation)
   CLOSED: [2018-06-09 Sat 17:00]

** DONE Default DB
   CLOSED: [2018-06-09 Sat 17:00]


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Set up navigation to each stub page
  CLOSED: [2018-06-12 Tue 20:52]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Define components
  CLOSED: [2018-06-12 Tue 21:06]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
 :LOGBOOK:
 CLOCK: [2018-06-12 Tue 21:01]--[2018-06-12 Tue 21:06] =>  0:05
 CLOCK: [2018-06-12 Tue 20:55]--[2018-06-12 Tue 21:01] =>  0:06
 :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Bucket form
  CLOSED: [2018-08-18 Sat 14:52]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-07-17 Tue 18:44]--[2018-07-17 Tue 18:54] =>  0:10
  :END:

** DONE Color
   CLOSED: [2018-07-17 Tue 09:21]
      :LOGBOOK:
      CLOCK: [2018-07-17 Tue 08:45]--[2018-07-17 Tue 09:21] =>  0:36
      CLOCK: [2018-07-17 Tue 07:54]--[2018-07-17 Tue 08:23] =>  0:29
      :END:
Chose [[https://github.com/instea/react-native-color-picker][this]] over [[https://github.com/hectahertz/react-native-color][that]] because this seemed more /self contained/.
This doesn't work well in a scroll view though so using the [[https://facebook.github.io/react-native/docs/modal][modal]] to contain it.
I like the soft rule that modals are only used to get a user's attention but in this case it is necessary to circumvent a bug and roll out the feature faster.
The color picker can be swapped out later.

** DONE Time stamp
   CLOSED: [2018-07-21 Sat 15:28] SCHEDULED: <2018-07-18 Wed>
     :LOGBOOK:
     CLOCK: [2018-07-21 Sat 12:16]--[2018-07-21 Sat 14:28] =>  2:12
     CLOCK: [2018-07-18 Wed 07:40]--[2018-07-18 Wed 08:45] =>  1:05
     :END:
[[https://www.npmjs.com/package/react-native-modal-datetime-picker][date time picker]]

** DONE Refactor form a bit
   CLOSED: [2018-07-21 Sat 16:05]
     :LOGBOOK:
     CLOCK: [2018-07-21 Sat 15:51]--[2018-07-21 Sat 16:05] =>  0:14
     CLOCK: [2018-07-21 Sat 14:49]--[2018-07-21 Sat 15:27] =>  0:38
     CLOCK: [2018-07-21 Sat 15:28]--[2018-07-21 Sat 15:29] =>  0:01
     :END:
- Added remaining fields
- each field into its own function
- styles


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Period form
  CLOSED: [2018-08-18 Sat 14:52]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-07-21 Sat 18:07]--[2018-07-21 Sat 18:59] =>  0:52
  :END:

** DONE Copy and paste subs/handlers/comps
   CLOSED: [2018-07-22 Sun 11:56]
   :LOGBOOK:
   CLOCK: [2018-07-21 Sat 18:45]--[2018-07-21 Sat 19:00] =>  0:15
   :END:

** DONE Add some periods to default db
   CLOSED: [2018-07-22 Sun 12:34]
   :LOGBOOK:
   CLOCK: [2018-07-22 Sun 11:56]--[2018-07-22 Sun 12:17] =>  0:21
   :END:

** DONE Load a period from drawer
   CLOSED: [2018-07-22 Sun 12:46]
   :LOGBOOK:
   CLOCK: [2018-07-22 Sun 12:34]--[2018-07-22 Sun 12:46] =>  0:12
   :END:

** DONE Static fields
   CLOSED: [2018-07-22 Sun 14:10]
     :LOGBOOK:
     CLOCK: [2018-07-22 Sun 12:55]--[2018-07-22 Sun 14:10] =>  1:15
     :END:
- [X] Id
- [X] Created
- [X] Last edited
- [X] Update load period form handler for parent fields
- [X] Parent ID
- [X] Parent label
- [X] Parent color

** DONE Dynamic fields
   CLOSED: [2018-07-29 Sun 08:32]
     :LOGBOOK:
     CLOCK: [2018-07-29 Sun 07:41]--[2018-07-29 Sun 08:32] =>  0:51
     CLOCK: [2018-07-26 Thu 07:44]--[2018-07-26 Thu 08:00] =>  0:16
     CLOCK: [2018-07-25 Wed 08:00]--[2018-07-25 Wed 09:37] =>  1:37
     CLOCK: [2018-07-24 Tue 08:33]--[2018-07-24 Tue 08:45] =>  0:12
     CLOCK: [2018-07-24 Tue 08:30]--[2018-07-24 Tue 08:32] =>  0:02
     CLOCK: [2018-07-23 Mon 08:13]--[2018-07-23 Mon 08:53] =>  0:40
     CLOCK: [2018-07-23 Mon 07:30]--[2018-07-23 Mon 07:45] =>  0:15
     :END:
- [X] Label
- [X] Planned
- [X] Start
- [X] Stop
- [X] Parent Picker
  - To save look into pull out the period with specter and setting the value in the bucket as null
  - Then saving it under whatever the id is in the form
  - Shouldn't matter if it doesn't change


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Template form
  CLOSED: [2018-08-18 Sat 14:52]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
    :LOGBOOK:
    CLOCK: [2018-07-29 Sun 09:40]--[2018-07-29 Sun 10:08] =>  0:28
    CLOCK: [2018-07-29 Sun 08:54]--[2018-07-29 Sun 09:16] =>  0:22
    :END:
- [X] Started fields
- [X] Started handlers
- [X] Started subscribers

** DONE Fix db spec
   CLOSED: [2018-08-05 Sun 11:26]
     :LOGBOOK:
     CLOCK: [2018-08-03 Fri 07:51]--[2018-08-03 Fri 08:28] =>  0:37
     :END:
Needed to put templates in a collection inside the buckets

** DONE Fix start component
   CLOSED: [2018-08-05 Sun 11:26]
   :LOGBOOK:
   CLOCK: [2018-08-05 Sun 11:07]--[2018-08-05 Sun 11:26] =>  0:19
   CLOCK: [2018-08-05 Sun 10:48]--[2018-08-05 Sun 10:55] =>  0:07
   CLOCK: [2018-08-03 Fri 08:28]--[2018-08-03 Fri 08:43] =>  0:15
   :END:

** DONE Add remaining form comps
   CLOSED: [2018-08-05 Sun 11:35]
   :LOGBOOK:
   CLOCK: [2018-08-05 Sun 11:26]--[2018-08-05 Sun 11:35] =>  0:09
   :END:

** DONE Add duration component
   CLOSED: [2018-09-02 Sun 14:21]
   :LOGBOOK:
   CLOCK: [2018-09-02 Sun 13:46]--[2018-09-02 Sun 14:21] =>  0:35
   :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Templates list
  CLOSED: [2018-08-19 Sun 15:56]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-08-05 Sun 12:03]--[2018-08-05 Sun 13:05] =>  1:02
  :END:

** DONE Navigate to form
   CLOSED: [2018-08-11 Sat 18:00]
   :LOGBOOK:
   CLOCK: [2018-08-11 Sat 17:35]--[2018-08-11 Sat 18:00] =>  0:25
   :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Periods list
  CLOSED: [2018-08-19 Sun 15:56]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-08-19 Sun 10:25]--[2018-08-19 Sun 10:26] =>  0:01
  CLOCK: [2018-08-19 Sun 10:26]--[2018-08-19 Sun 10:57] =>  0:31
  :END:

** Flat list of periods
** Filter component

Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Bucket list
  CLOSED: [2018-08-19 Sun 15:56]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-08-19 Sun 11:29]--[2018-08-19 Sun 11:38] =>  0:09
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Filter list
  CLOSED: [2018-08-26 Sun 11:27]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
    :LOGBOOK:
    CLOCK: [2018-08-26 Sun 10:58]--[2018-08-26 Sun 11:27] =>  0:29
    :END:
Should it use filters?
- [X] Add entry to navigation


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Explore and research
  CLOSED: [2018-10-27 Sat 15:30]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens/Day/Display
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
      :LOGBOOK:
      CLOCK: [2018-10-07 Sun 15:40]--[2018-10-07 Sun 17:15] =>  1:35
      CLOCK: [2018-10-07 Sun 15:26]--[2018-10-07 Sun 15:40] =>  0:14
      CLOCK: [2018-10-07 Sun 11:56]--[2018-10-07 Sun 12:31] =>  0:35
      CLOCK: [2018-10-07 Sun 11:18]--[2018-10-07 Sun 11:35] =>  0:17
      CLOCK: [2018-10-04 Thu 09:14]--[2018-10-04 Thu 09:14] =>  0:00
      CLOCK: [2018-10-04 Thu 07:45]--[2018-10-04 Thu 09:11] =>  1:26
      CLOCK: [2018-10-02 Tue 07:11]--[2018-10-02 Tue 08:55] =>  1:44
      CLOCK: [2018-09-22 Sat 14:17]--[2018-09-22 Sat 14:38] =>  0:21
      :END:
- [X] Render a view that knows its height (using the guides below)
  - [[https://stackoverflow.com/questions/33770901/how-to-get-size-of-a-component-in-react-native/33771254][Get height of view]] (did not need this)
  - [[https://cmichel.io/how-to-get-the-size-of-a-react-native-view-dynamically][Doing exactly what I want]]
- [X] Drag n drop poc
  - [[https://blog.reactnativecoach.com/creating-draggable-component-with-react-native-132d30c27cb0][Drag n drop guide]]
  - [[https://gist.github.com/saukap/7b5ed374f7aba148815acef4b7dd3feb][And a little of this gist]]
- [X] Verify that known height and pan responder can translate to times


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Period display function
  CLOSED: [2018-10-13 Sat 13:56] SCHEDULED: <2018-10-13 Sat>
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens/Day/Display/Get down to it
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-10-13 Sat 12:09]--[2018-10-13 Sat 13:56] =>  1:47
  CLOCK: [2018-10-13 Sat 11:30]--[2018-10-13 Sat 11:40] =>  0:10
  CLOCK: [2018-10-13 Sat 09:49]--[2018-10-13 Sat 10:00] =>  0:11
  CLOCK: [2018-10-08 Mon 07:21]--[2018-10-08 Mon 08:11] =>  0:50
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Period selection
  CLOSED: [2018-10-13 Sat 14:21] SCHEDULED: <2018-10-13 Sat>
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens/Day/Display/Get down to it
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-10-13 Sat 13:56]--[2018-10-13 Sat 14:21] =>  0:25
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Orient and position the display
  CLOSED: [2018-10-13 Sat 19:53]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens/Day/Display/Get down to it/Selection display
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-10-13 Sat 19:04]--[2018-10-13 Sat 19:33] =>  0:49
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Info section
  CLOSED: [2018-10-13 Sat 20:00]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens/Day/Display/Get down to it/Selection display
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-10-13 Sat 19:33]--[2018-10-13 Sat 19:55] =>  0:22
   CLOCK: [2018-10-14 Sun 16:03]--[2018-10-14 Sun 16:49] =>  0:46
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Edit
  CLOSED: [2018-10-13 Sat 20:00]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens/Day/Display/Get down to it/Selection display/Selection menu
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-10-13 Sat 19:55]--[2018-10-13 Sat 20:00] =>  0:05
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Setup icons
  CLOSED: [2018-10-14 Sun 17:11]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens/Day/Display/Get down to it/Selection display/Selection menu
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-10-14 Sun 16:49]--[2018-10-14 Sun 17:11] =>  0:22
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Cancel
  CLOSED: [2018-10-27 Sat 15:30]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens/Day/Display/Get down to it/Selection display/Selection menu
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-10-14 Sun 17:11]--[2018-10-14 Sun 17:24] =>  0:13
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Move up (w/ long press)
  CLOSED: [2018-11-04 Sun 16:06] SCHEDULED: <2018-11-04 Sun>
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens/Day/Display/Get down to it/Selection display/Selection menu
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
         :LOGBOOK:
         CLOCK: [2018-11-04 Sun 15:25]--[2018-11-04 Sun 16:06] =>  0:41
         CLOCK: [2018-10-27 Sat 15:30]--[2018-10-27 Sat 16:01] =>  0:31
         CLOCK: [2018-10-13 Sat 20:02]--[2018-10-13 Sat 20:09] =>  0:07
         :END:
- [X] Handler & button
- [X] Fix wrapping around on day view
- [X] Add long press
- [X] Change icon


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Move down (w/ long press)
  CLOSED: [2018-11-04 Sun 16:14]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens/Day/Display/Get down to it/Selection display/Selection menu
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-11-04 Sun 16:06]--[2018-11-04 Sun 16:14] =>  0:08
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Expand from stop (w/ long press)
  CLOSED: [2018-11-04 Sun 16:23]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens/Day/Display/Get down to it/Selection display/Selection menu
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-11-04 Sun 16:14]--[2018-11-04 Sun 16:23] =>  0:09
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Expand from start (w/ long press)
  CLOSED: [2018-11-04 Sun 16:31]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens/Day/Display/Get down to it/Selection display/Selection menu
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-11-04 Sun 16:25]--[2018-11-04 Sun 16:31] =>  0:06
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Contract from stop (w/ long press)
  CLOSED: [2018-11-04 Sun 16:25]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens/Day/Display/Get down to it/Selection display/Selection menu
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-11-04 Sun 16:24]--[2018-11-04 Sun 16:25] =>  0:01
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Contract from start (w/ long press)
  CLOSED: [2018-11-04 Sun 16:31]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens/Day/Display/Get down to it/Selection display/Selection menu
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Copy to other side
  CLOSED: [2018-11-05 Mon 07:24]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens/Day/Display/Get down to it/Selection display/Selection menu
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-11-05 Mon 06:56]--[2018-11-05 Mon 07:24] =>  0:28
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Move to tomorrow
  CLOSED: [2018-11-11 Sun 18:04]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens/Day/Display/Get down to it/Selection display/Selection menu
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-11-11 Sun 18:03]--[2018-11-11 Sun 18:03] =>  0:00
  CLOCK: [2018-11-11 Sun 16:27]--[2018-11-11 Sun 16:42] =>  0:15
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Move to yesterday & Both copies
  CLOSED: [2018-11-11 Sun 19:15]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens/Day/Display/Get down to it/Selection display/Selection menu
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-11-11 Sun 18:29]--[2018-11-11 Sun 18:48] =>  0:19
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Button groups
  CLOSED: [2019-01-27 Sun 19:27]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens/Day/Display/Get down to it/Selection display/Selection menu
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
         :LOGBOOK:
         CLOCK: [2019-01-27 Sun 16:53]--[2019-01-27 Sun 19:27] =>  2:34
         :END:

- Movement
- Transformations
- Copying
- misc not in a group


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Play / Pause
  CLOSED: [2018-12-01 Sat 17:50]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens/Day/Display/Get down to it/Selection display/Selection menu
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:

** Brainstorming
          :LOGBOOK:
          CLOCK: [2018-11-13 Tue 07:28]--[2018-11-13 Tue 07:30] =>  0:02
          CLOCK: [2018-11-13 Tue 07:27]--[2018-11-13 Tue 07:28] =>  0:01
          CLOCK: [2018-11-13 Tue 07:20]--[2018-11-13 Tue 07:27] =>  0:07
          :END:
Need to use [[https://facebook.github.io/react-native/docs/appstate][appstate]] to detect when the app comes into the foreground. 
Appstate and appstate change handler can be in the app-db and reframe handlers.
Selecting a period to be played can have a top level app-db entry of ={:in-play-period uuid :time-started js/Date}=.
The handler will update the playing period whenever the app is transitioning to the foreground.
A [[https://facebook.github.io/react-native/docs/timers][Timer interval]] will be set while the app is in the foreground. The id should be stored in app-state.
When the appstate changes to the background, the handler should clear the interval.

** Checklist
          :LOGBOOK:
          CLOCK: [2018-11-17 Sat 17:48]--[2018-11-17 Sat 19:12] =>  1:24
          CLOCK: [2018-11-17 Sat 16:43]--[2018-11-17 Sat 17:14] =>  0:31
          CLOCK: [2018-11-13 Tue 07:30]--[2018-11-13 Tue 07:34] =>  0:04
          :END:
- [X] Add appstate to app-db
- [X] Add appstate handler
- [X] Add appstate subscription
- [X] Add a change event registration at the root of the app
- [X] Prove that appstate is working (console log changes)
- [X] Add play state to app-db
- [X] Make handler update period
- [ ] Add interval for updating while in foreground
- [ ] Make handler clear interval when the appstate changes to background

** Oh, wait
          :LOGBOOK:
          CLOCK: [2018-11-18 Sun 18:52]--[2018-11-18 Sun 18:54] =>  0:02
          CLOCK: [2018-11-18 Sun 11:36]--[2018-11-18 Sun 15:03] =>  3:27
          CLOCK: [2018-11-17 Sat 19:12]--[2018-11-17 Sat 19:14] =>  0:02
          :END:
Pressing play on a selected period should create a new period that is not planned.
It starts now and stops 1 ms from now and is in play.
Maybe if a period is in play and small enough it should should a lighter /ahead view/.
- [X] Need to alter the play handler to do this.
- [X] Then verify that putting the app in the background and returning to the foreground triggers update.
- [ ] Then work on a running interval while the app is active that updates every few seconds or minute.
  - This is hard!

** wait wait, no
          :LOGBOOK:
          CLOCK: [2018-11-25 Sun 12:55]--[2018-11-25 Sun 13:00] =>  0:05
          CLOCK: [2018-11-24 Sat 18:51]--[2018-11-24 Sat 19:54] =>  1:03
          CLOCK: [2018-11-24 Sat 16:54]--[2018-11-24 Sat 16:57] =>  0:03
          :END:
Start an initial timer on app-db init as a side effect. Use the same side effect in the handler for app-state change.
I guess genymotion decided recently to remove internet access for free version.
I can't access the expo bundler without connecting to the internet to see it running in the expo client.
Nvm I guess genymotion works fine now??

** Experiment with timer
           :LOGBOOK:
   CLOCK: [2018-11-25 Sun 13:00]--[2018-11-25 Sun 13:42] =>  0:42
   CLOCK: [2018-11-25 Sun 12:29]--[2018-11-25 Sun 13:00] =>  0:31
   :END:

*** Starting an interval timer at the top of a namespace
    :PROPERTIES:
    :COMMIT:   684992ab53d05edec413ee5a6d3d16ef0121fd7b
    :END:

Timer starts and runs just fine.
When hot reloading the timer does *not* get removed.
So each code change adds another interval timer.
Seems to work fine going in and out of foreground
#+BEGIN_SRC bash
[13:14:58] Done loading Clojure app
[13:14:58] Figwheel: trying to open cljs reload socket
[13:14:58] Figwheel: socket connection established
[13:15:02] 18:15:02 GMT+0000 (GMT)
[13:15:12] 18:15:12 GMT+0000 (GMT)
[13:15:17] 18:15:17 GMT+0000 (GMT)
[13:15:22] 18:15:22 GMT+0000 (GMT)
[13:15:27] 18:15:27 GMT+0000 (GMT)
[13:15:32] 18:15:32 GMT+0000 (GMT)
[13:15:37] 18:15:37 GMT+0000 (GMT)
[13:15:38] changed to background
[13:16:07] changed to active
[13:16:07] 18:16:07 GMT+0000 (GMT)
[13:16:12] 18:16:12 GMT+0000 (GMT)
[13:16:17] 18:16:17 GMT+0000 (GMT)
#+END_SRC

*** setTimeout on component mount
    :PROPERTIES:
    :COMMIT:   653bd530b02cae223bd5f839b38774dcb9c07239
    :END:
           :LOGBOOK:
           CLOCK: [2018-11-25 Sun 13:42]--[2018-11-25 Sun 14:36] =>  0:54
           :END:
Putting a timeout that updates a subscribed =r/atom= , at the top of a render function, keeps the update in a continuous cycle.
No interval is needed.
This works as expected when the app goes into the background. On resuming the timeout resumes, no buildup of timeouts that all get run at once. Interval didn't do that either though so I don't know why I mention it.
Hot reloading works too. At most one built up timeout will get run after the reload. It could in some specific circumstance cause a bug but quitting the app and restarting would fix it.

** Let's Play
          :LOGBOOK:
          CLOCK: [2018-11-25 Sun 14:36]--[2018-11-25 Sun 16:44] =>  2:08
          :END:
- [X] At the top of root render function have a continuous set timeout
- [X] Timeout dispatch a =tick= event and update the current time atom
- [X] Day display gets current time passed down from atom
- [X] Change the set timeout to a set interval on app init 
  - Not concerned about clearing it
  - Happens once when the app starts
  - /Pauses/ when the app state transitions from active to background
  - Doesn't create multiple timers on hot reloading
- [X] Tick event checks for a =period-in-play= and updates it's stop time
- [X] Playing a selected period creates a new period and sets =period-in-play=

** Finishing off playing
          :LOGBOOK:
          CLOCK: [2018-12-01 Sat 15:16]--[2018-12-01 Sat 17:50] =>  2:34
          CLOCK: [2018-11-25 Sun 16:44]--[2018-11-25 Sun 16:48] =>  0:04
          :END:
- [X] add some play buttons at the bottom
  - [X] Shows what is in play (opacity change)
  - [X] Selects in play period
  - [X] Stops in play period
  - [X] +At least make a note of: Play from nothing dialog+ Add modal for playing from
    - [X] +Moves through selecting a+ A bucket
    - [X] +Selecting a+ A period template


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Day navigator
  CLOSED: [2018-11-17 Sat 12:27]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens/Day/Display/Get down to it/Selection display
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-11-17 Sat 11:50]--[2018-11-17 Sat 12:27] =>  0:37
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE List action buttons
  CLOSED: [2018-08-29 Wed 14:45]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Reusable Components
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:

** What could they do
     :LOGBOOK:
     CLOCK: [2018-08-19 Sun 11:43]--[2018-08-19 Sun 11:48] =>  0:05
     CLOCK: [2018-08-19 Sun 11:39]--[2018-08-19 Sun 11:43] =>  0:04
     :END:
- Add new items
  - Should that use the filter?
- Delete many selected items
- Copy many selected items (not +deep+ child periods?)
- Select/deselect all
- Remove periods/templates (just buckets)

** What will they do (mvp)

Add

** DONE Add button
   CLOSED: [2018-08-29 Wed 14:41]
     :LOGBOOK:
     CLOCK: [2018-08-29 Wed 14:12]--[2018-08-29 Wed 14:41] =>  0:29
     CLOCK: [2018-08-29 Wed 13:22]--[2018-08-29 Wed 13:59] =>  0:37
     CLOCK: [2018-08-28 Tue 14:47]--[2018-08-28 Tue 15:38] =>  0:51
     CLOCK: [2018-08-28 Tue 09:39]--[2018-08-28 Tue 10:52] =>  1:13
     CLOCK: [2018-08-28 Tue 08:55]--[2018-08-28 Tue 09:01] =>  0:06
     CLOCK: [2018-08-28 Tue 08:11]--[2018-08-28 Tue 08:40] =>  0:29
     CLOCK: [2018-08-28 Tue 07:46]--[2018-08-28 Tue 07:49] =>  0:03
     CLOCK: [2018-08-27 Mon 11:45]--[2018-08-27 Mon 12:28] =>  0:43
     :END:
- [X] Bucket
- [X] Period
- [X] Period from template
  - modal on period list +or from template list+
- [X] Template
- [X] Filter
- [-] Use filter to populate form


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Structured-data
  CLOSED: [2018-07-15 Sun 14:06]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Reusable Components
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Form-buttons
  CLOSED: [2018-10-13 Sat 09:47] SCHEDULED: <2018-07-18 Wed>
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Reusable Components
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-07-23 Mon 07:45]--[2018-07-23 Mon 08:13] =>  0:28
  :END:

** DONE Delete button
   CLOSED: [2018-08-30 Thu 17:00]
   :LOGBOOK:
   CLOCK: [2018-08-30 Thu 15:54]--[2018-08-30 Thu 17:00] =>  1:06
   CLOCK: [2018-08-30 Thu 14:25]--[2018-08-30 Thu 15:00] =>  0:35
   :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Filter
  CLOSED: [2018-08-19 Sun 15:52]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Reusable Components
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-08-05 Sun 13:58]--[2018-08-05 Sun 14:02] =>  0:04
  :END:

** DONE Add spec and default for filter definitions
   CLOSED: [2018-08-11 Sat 17:15]
   :LOGBOOK:
   CLOCK: [2018-08-05 Sun 13:33]--[2018-08-05 Sun 13:57] =>  0:24
   :END:

** DONE Add form
   CLOSED: [2018-08-11 Sat 13:59]
     :LOGBOOK:
     CLOCK: [2018-08-11 Sat 13:37]--[2018-08-11 Sat 13:59] =>  0:22
     CLOCK: [2018-08-11 Sat 12:08]--[2018-08-11 Sat 12:22] =>  0:14
     CLOCK: [2018-08-11 Sat 11:48]--[2018-08-11 Sat 11:55] =>  0:07
     CLOCK: [2018-08-11 Sat 08:07]--[2018-08-11 Sat 09:04] =>  0:57
     CLOCK: [2018-08-07 Tue 08:31]--[2018-08-07 Tue 09:13] =>  0:42
     CLOCK: [2018-08-07 Tue 07:48]--[2018-08-07 Tue 08:04] =>  0:16
     :END:
- [X] spec
- [X] default
- [X] screen
- [X] nav
- [X] fields
  - [X] everything but predicates
  - [X] predicates (switched to just a structured data text entry for same reasons as data field)
- [X] subs
- [X] handlers

** DONE Add comp that sets active filter
   CLOSED: [2018-08-18 Sat 14:15]
     :LOGBOOK:
     CLOCK: [2018-08-18 Sat 12:39]--[2018-08-18 Sat 14:16] =>  1:37
     CLOCK: [2018-08-11 Sat 17:15]--[2018-08-11 Sat 17:35] =>  0:20
     CLOCK: [2018-08-11 Sat 13:59]--[2018-08-11 Sat 14:07] =>  0:08
     :END:
- [X] picker
- [X] subs
- [X] handlers

** DONE Function that filters objects by active filter
   CLOSED: [2018-08-18 Sat 14:51]
   :LOGBOOK:
   CLOCK: [2018-08-18 Sat 14:16]--[2018-08-18 Sat 14:51] =>  0:35
   :END:

** DONE Add sort
   CLOSED: [2018-08-19 Sun 15:52]
   :LOGBOOK:
   CLOCK: [2018-08-19 Sun 14:48]--[2018-08-19 Sun 15:52] =>  1:04
   :END:

** DONE Compatible selection
   CLOSED: [2018-08-23 Thu 07:54]
   :LOGBOOK:
   CLOCK: [2018-08-23 Thu 06:59]--[2018-08-23 Thu 07:54] =>  0:55
   :END:

** DONE Compatible filter on all list pages
   CLOSED: [2018-08-26 Sun 12:10]
   :LOGBOOK:
   CLOCK: [2018-08-26 Sun 11:28]--[2018-08-26 Sun 12:10] =>  0:42
   :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Form fields
  CLOSED: [2018-08-23 Thu 07:04]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Reusable Components
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
    :LOGBOOK:
    CLOCK: [2018-08-07 Tue 08:04]--[2018-08-07 Tue 08:31] =>  0:27
    :END:
Moved common fields to a reusable component space


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Add persistence to +async storage+ secure store
  CLOSED: [2018-12-02 Sun 17:50]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-12-03 Mon 11:18]--[2018-12-03 Mon 11:18] =>  0:00
  CLOCK: [2018-12-02 Sun 16:31]--[2018-12-02 Sun 17:50] =>  1:19
  :END:

** Debug
     :LOGBOOK:
     CLOCK: [2018-12-03 Mon 11:18]--[2018-12-03 Mon 13:41] =>  2:23
     :END:
Needed to use some =oops= functions and not write over the secure store with the db init.


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Refactor task to bucket
  CLOSED: [2018-07-22 Sun 11:56]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-07-21 Sat 18:20]--[2018-07-21 Sat 18:40] =>  0:20
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Time zone tinkering
  CLOSED: [2019-01-27 Sun 14:04]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-01-27 Sun 14:01]--[2019-01-27 Sun 14:04] =>  0:03
  :END:

** Initial thoughts

- persist all times in UTC with the local time zone that it was created in as a another field for display
- display times in the time zone they were created in
- when the local time zone is different than the stored /created timezone/ value then display the created time zone
- have an option to adjust per displayed time zone or a one button "update all forward" times to new local time zone

** DONE Fucked around with async function to get the time zone of the device
   CLOSED: [2018-08-31 Fri 13:23]
     :LOGBOOK:
     CLOCK: [2018-08-31 Fri 13:19]--[2018-08-31 Fri 13:29] =>  0:10
     CLOCK: [2018-08-31 Fri 12:52]--[2018-08-31 Fri 13:19] =>  0:27
     CLOCK: [2018-08-31 Fri 11:00]--[2018-08-31 Fri 12:10] =>  1:10
     :END:
[[https://docs.expo.io/versions/latest/sdk/localization#expodangerzonelocalizationgetcurrenttimezoneasync][This function]] required a lot of trial and error [[https://funcool.github.io/promesa/latest/#introduction-2][from]] many [[https://github.com/funcool/promesa/blob/master/test/promesa/core_tests.cljc][sources]] to come up with:
#+BEGIN_SRC clojure
(require '[promesa.core :as p])
(def expo (js/require "expo"))
(def localization (->> expo (.-DangerZone) (.-Localization)))

(p/then (.getCurrentTimeZoneAsync localization) #(println %))

;; with async/await (lets you do sync stuff within async or p/alet)
(require '[promesa.async-cljs :refer-macros [async]])

;; idk why js/promise.resolve is there
(p/then (async (-> (.getCurrentTimeZoneAsync localization) js/Promise.resolve p/await)) #(println %))
#+END_SRC

** Thoughts

Keep the device time zone in state.
Keep a display time zone.
Whenever it changes (if you can subscribe to that or just monitor each tick) then prompt the user.
- Change all times so that relative time is the same (new instant adjusted to the difference in time zones)
- Change all going forward
- Keep all instants but display in new time zone
- Keep all instants but display in old time zone?


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Hard MVP decisions
  CLOSED: [2018-08-18 Sat 14:53]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
    :LOGBOOK:
    CLOCK: [2018-07-24 Tue 08:32]--[2018-07-24 Tue 08:33] =>  0:01
    :END:
- No styling except what is absolutely necessary
- Stopped structured data comp partway through for a large text field
- No backend or persistence
- No JSON export or structured data support until mvp


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Consider adding separate filters for buckets|templates|periods
  CLOSED: [2018-08-19 Sun 16:08]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:

Alternative might be to have a selection item in the form for which entities this filter is used for.
This would keep the pickers clean on the list screens and it would be filterable on the filter list page.


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Better default app-db(s)
  CLOSED: [2018-09-02 Sun 13:45]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
    :LOGBOOK:
    CLOCK: [2018-09-02 Sun 13:03]--[2018-09-02 Sun 13:45] =>  0:42
    CLOCK: [2018-09-02 Sun 12:23]--[2018-09-02 Sun 12:37] =>  0:14
    :END:
- [-] Blank app-db
- [X] Test/demo app-db
- [-] Make toggle that depends on release channel


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Clean drawer
  CLOSED: [2018-09-08 Sat 06:01]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
    :LOGBOOK:
    CLOCK: [2018-09-08 Sat 05:35]--[2018-09-08 Sat 06:01] =>  0:26
    CLOCK: [2018-09-04 Tue 08:02]--[2018-09-04 Tue 08:20] =>  0:18
    :END:
- remove form links
- re-order


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE CRUD demo
  CLOSED: [2018-09-08 Sat 06:11]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
    :LOGBOOK:
    CLOCK: [2018-09-08 Sat 06:01]--[2018-09-08 Sat 06:11] =>  0:10
    :END:
- [X] bucket
- [X] filter
- [X] blank period
- [X] template
- [X] period with template
Recording feature is not available in personal use genymotion. Just demoed to myself.


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Add tests for handlers
  CLOSED: [2018-09-20 Thu 08:56]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:

<2019-08-28 Wed>
initial tests written 
<2018-09-10 Mon>
Needed to refactor add handlers to be deterministic so that they were easier to test.
They should not have had random id generation and date creation to represent "now".
<2018-09-11 Tue>
Finished add handler tests. Total handler tests (15/28).
Also researched a bit on react native animation and clojurescript. Noted it in ingress.


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Fix build process
  CLOSED: [2018-10-07 Sun 11:17]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
    :LOGBOOK:
    CLOCK: [2018-10-06 Sat 11:45]--[2018-10-06 Sat 20:01] =>  8:16
    CLOCK: [2018-10-05 Fri 18:25]--[2018-10-05 Fri 19:35] =>  1:10
    CLOCK: [2018-10-05 Fri 18:23]--[2018-10-05 Fri 18:25] =>  0:02
    CLOCK: [2018-10-05 Fri 13:42]--[2018-10-05 Fri 13:59] =>  0:17
    :END:
- [X] Make a build from a new template
  - This build worked
- [X] Port over code
  - This build did not
- [X] Go through compiler options
- Figured out need to use =oops= instead of dot sytnax for interop
- changed built tested and repeated until I got it to build 


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Fix add-period-from-template
  CLOSED: [2018-10-27 Sat 15:26] SCHEDULED: <2018-10-19 Fri>
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
    :LOGBOOK:
    CLOCK: [2018-10-27 Sat 14:38]--[2018-10-27 Sat 15:26] =>  0:48
    :END:
It doesn't use start time
There was no bug, but I did fix some spacing and a time stamp view issue.


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Increase day selection button sizes
  CLOSED: [2018-12-02 Sun 16:31]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-12-02 Sun 16:23]--[2018-12-02 Sun 16:31] =>  0:08
  CLOCK: [2018-12-02 Sun 16:12]--[2018-12-02 Sun 16:23] =>  0:11
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Initial Export
  CLOSED: [2018-12-03 Mon 19:53]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
    :LOGBOOK:
    CLOCK: [2018-12-03 Mon 18:40]--[2018-12-03 Mon 19:53] =>  1:13
    CLOCK: [2018-12-03 Mon 16:23]--[2018-12-03 Mon 18:00] =>  1:37
    CLOCK: [2018-12-03 Mon 13:42]--[2018-12-03 Mon 14:20] =>  0:38
    :END:
Tried using FileSystem api from Expo but it is restricted to some kind of super locked down file system only within the Expo app.
Can't look at files outside of that isolation and can't write files outside.
Decided to go with Share api from react native. Export the app-db as a string to drive or whatever the user wants, email maybe.


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Let's just try and get something running
  CLOSED: [2019-01-26 Sat 14:47]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-01-26 Sat 12:48]--[2019-01-26 Sat 13:13] =>  0:25
  :END:

** Current state

Code is on the last known working commit, nothing done to project deps regarding nrepl or figwheel.
This state used to be compiled and served to the emulator running expo client with ~lein figwheel~ and ~expo start --lan --no-dev~.
Now it results in an error on trying to load the compiled js bundle.
#+begin_src bash
[13:00:23] Metro Bundler failed to start. (code: ENOSPC)
[13:02:11] Running application "main" with appParams: {"initialProps":{"exp":{"lastErrors":[{"isFatal":false,"errorMessage":"Network request failed","exceptionId":1}],"initialUri":"exp://192.168.1.71:19000","manifest":{"iconUrl":"http://192.168.1.71:19001/assets/./assets/icons/app.png","isVerified":true,"debuggerHost":"192.168.1.71:19001","env":{},"icon":"./assets/icons/app.png","splash":{"resizeMode":"contain","backgroundColor":"#ffffff","image":"./assets/icons/loading.png","imageUrl":"http://192.168.1.71:19001/assets/./assets/icons/loading.png"},"logUrl":"http://192.168.1.71:19000/logs","privacy":"public","loadedFromCache":true,"primaryColor":"#cccccc","orientation":"portrait","description":"No description","bundleUrl":"http://192.168.1.71:19001/main.bundle?platform=android&dev=false&minify=false&hot=false&assetPlugin=%2Fhome%2Fjustin%2Fprojects%2Fcider-expo-test%2Fnode_modules%2Fexpo%2Ftools%2FhashAssetFiles.js","ios":{"supportsTablet":true},"packagerOpts":{"dev":false,"lanType":"ip","hostType":"lan","minify":false,"urlRandomness":"72-3nw"},"sdkVersion":"26.0.0","mainModuleName":"main","xde":true,"id":"@jgood/cider-expo-test","developer":{"tool":"expo-cli","projectRoot":"/home/justin/projects/cider-expo-test"},"name":"cider-expo-test","slug":"cider-expo-test","version":"1.0.0","hostUri":"192.168.1.71:19000"},"shell":false}},"rootTag":1}. __DEV__ === false, development-level warning are OFF, performance optimizations are ON
[13:02:11] Loading Closure base.
[13:02:11] Shimming require
[13:02:11] [TypeError: Network request failed]
#+end_src
This sucks.

** Options
*** Test a fresh expo cljs template project

Keep all the default project deps in place. 
Keep system tools at the newest versions (expo-cli, lein, expo client).
If everything works discern differences.

*** Set up bare bones lumo compiled project and port

Follow this [[https://juxt.pro/blog/posts/native.html][bare bones tut]] to get a blank project up.
Figure out a bearable working environment.

*** Port the whole project back to a web app

This would be a lot of view changes.

** Testing new cljs template
   :LOGBOOK:
   CLOCK: [2019-01-26 Sat 13:13]--[2019-01-26 Sat 14:47] =>  1:34
   :END:

*** System versions

Leiningen 2.8.3 on Java 1.8.0_191 OpenJDK 64-Bit Server VM
Expo-cli version: 2.7.0
Expo-client version: 2.10.4
Node version: v10.15.0
Npm version: 6.4.1

*** Setting up

#+begin_src bash
lein new expo basics +reagent
cd basics
yarn install
# manually add .lan-ip
lein figwheel
# in a separate tmux pane
expo start --lan --no-dev
#+end_src

*** Oh shit fix

Apparently something on my system is maxing out inotify (looking at you nextcloud && gitkraken).
That was impacting metro bundler. Found an esoteric error code in the web console for the bundler.
Googled it and ended up at this [[https://stackoverflow.com/questions/22475849/node-js-what-is-enospc-error-and-how-to-solve/32600959#32600959][stack overflow post]] that fixed the problem!


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Play with ui component library
  CLOSED: [2019-03-16 Sat 13:06]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
    :LOGBOOK:
    CLOCK: [2019-01-28 Mon 21:09]--[2019-01-28 Mon 21:09] =>  0:00
    CLOCK: [2019-01-28 Mon 20:23]--[2019-01-28 Mon 21:08] =>  0:45
    CLOCK: [2019-01-26 Sat 20:11]--[2019-01-26 Sat 21:36] =>  1:25
    CLOCK: [2019-01-26 Sat 16:46]--[2019-01-26 Sat 16:46] =>  0:00
    CLOCK: [2019-01-26 Sat 15:10]--[2019-01-26 Sat 16:46] =>  1:36
    :END:
react-native-elements and react-natvie-ui-kitten fail to js/require >:(


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Fix selected indicator
  CLOSED: [2019-01-27 Sun 13:59]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-01-27 Sun 13:10]--[2019-01-27 Sun 13:59] =>  0:49
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Update expo sdk
  CLOSED: [2019-03-16 Sat 13:06]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
    :LOGBOOK:
    CLOCK: [2019-01-28 Mon 21:09]--[2019-01-28 Mon 22:12] =>  1:03
    :END:
This was brought on because trying to use ~react-native-elements~ caused an error because ~@expo/vector-icons~ was missing ~AntDesign~ set of icons when rne required it as a peer dep.
I checked expo vector icons github and saw a newer version had the set.
Updating to [[https://blog.expo.io/expo-sdk-30-0-0-is-now-available-e64d8b1db2a7][sdk-30]] because sdk-31 [[https://github.com/seantempesta/expo-cljs-template/issues/73][introduces some breakage]].

** DONE If it aint one thing it is another
   CLOSED: [2019-03-16 Sat 13:06]

I jumped to expo 30 and the app was running but it didn't include the vector updates that rne needed.
Tried to jump to 32 but got a weird error about a missign metro/server index file. 
Attempted to clear caches like in the issue for skd-31 above but it didn't do anything.

** DONE But wait, there's more...
   CLOSED: [2019-03-16 Sat 13:06]
     :LOGBOOK:
     CLOCK: [2019-02-27 Wed 18:41]--[2019-02-27 Wed 18:43] =>  0:02
     :END:
https://www.reddit.com/r/Clojure/comments/at8wkd/react_native_expo_with_shadowcljs/
Tried that out and it worked.

*** DONE Port project to shadow-cljs
    CLOSED: [2019-03-09 Sat 16:06]
      :LOGBOOK:
      CLOCK: [2019-03-02 Sat 14:48]--[2019-03-02 Sat 15:50] =>  1:02
      CLOCK: [2019-03-02 Sat 12:30]--[2019-03-02 Sat 13:00] =>  0:30
      CLOCK: [2019-02-28 Thu 09:47]--[2019-02-28 Thu 09:53] =>  0:06
      CLOCK: [2019-02-27 Wed 18:43]--[2019-02-27 Wed 19:33] =>  0:50
      :END:
- [X] Copy example project
- [X] Set up a repo
- [X] Rename
- [X] Add cljs deps
- [X] Attempt to [[https://github.com/thheller/shadow-cljs/wiki/Cider][get a repl]]
- [X] Figure out why repl doesn't work
  - Need to do things in this order
#+begin_src bash
shadow-cljs watch app
# separate command line process
yarn start
# in emacs editor
cider-connect (localhost:8202 or w/e the build says the nrepl is running on)
## Connect the client device and let it load javascript bundle
## +(cemerick.piggieback/cljs-repl :app) - this is an override I guess+
## actually just use (shadow/nrepl-select :app)
## Ready to evaluate
#+end_src
- [X] Add js deps
- [X] Start porting over code

**** DONE Get it running
     CLOSED: [2019-03-09 Sat 16:06]
     :LOGBOOK:
     CLOCK: [2019-03-09 Sat 13:28]--[2019-03-09 Sat 14:58] =>  1:30
     CLOCK: [2019-03-09 Sat 01:58]--[2019-03-09 Sat 01:58] =>  0:00
     CLOCK: [2019-03-08 Fri 23:44]--[2019-03-09 Sat 01:57] =>  2:13
     CLOCK: [2019-03-03 Sun 21:43]--[2019-03-03 Sun 22:30] =>  0:47
     CLOCK: [2019-03-03 Sun 15:50]--[2019-03-03 Sun 16:40] =>  0:50
     CLOCK: [2019-03-02 Sat 17:10]--[2019-03-02 Sat 17:48] =>  0:38
     CLOCK: [2019-03-02 Sat 15:50]--[2019-03-02 Sat 16:20] =>  0:30
     :END:

** DONE Produce a build
   CLOSED: [2019-03-16 Sat 13:05]
     :LOGBOOK:
     CLOCK: [2019-03-16 Sat 13:04]--[2019-03-16 Sat 13:05] =>  0:01
     CLOCK: [2019-03-16 Sat 13:04]--[2019-03-16 Sat 13:04] =>  0:00
     CLOCK: [2019-03-09 Sat 18:20]--[2019-03-09 Sat 19:20] =>  1:00
     CLOCK: [2019-03-09 Sat 17:11]--[2019-03-09 Sat 17:45] =>  0:34
     :END:
Solution right now is not to use on ~shadow-cljs watch app~ to compile code not ~shadow-cljs release app~.
There were rumblings about suing a metro patch to fix the error that occurs with release.
Also consider using ~:infer-externs :auto~ in shadow build configuration.

*** Patch

#+begin_src diff
--- worker.js    2018-11-21 14:46:01.271844624 -0700
+++ worker.js    2018-11-21 14:45:52.517615272 -0700
@@ -218,7 +218,7 @@
     }
 
     if (!options.transformOptions.dev) {
-      plugins.push([constantFoldingPlugin, opts]);
+      // plugins.push([constantFoldingPlugin, opts]);
       plugins.push([inlinePlugin, opts]);
     }var _transformFromAstSync =
#+end_src


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Auto create bucket filter for periods and templates
  CLOSED: [2019-03-09 Sat 16:50]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-03-09 Sat 16:11]--[2019-03-09 Sat 16:50] =>  0:39
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Reset default db
  CLOSED: [2019-03-09 Sat 17:11]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-03-09 Sat 16:50]--[2019-03-09 Sat 17:11] =>  0:21
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Share space horizontally for overlapping periods
  CLOSED: [2019-04-15 Mon 18:01]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc/Overhaul style with react native elements/Day
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-04-07 Sun 11:34]--[2019-04-07 Sun 12:39] =>  1:05
  CLOCK: [2019-03-31 Sun 14:34]--[2019-03-31 Sun 14:34] =>  0:00
  CLOCK: [2019-03-31 Sun 12:17]--[2019-03-31 Sun 14:34] =>  2:17
  CLOCK: [2019-03-30 Sat 18:39]--[2019-03-30 Sat 18:54] =>  0:15
  CLOCK: [2019-03-30 Sat 16:24]--[2019-03-30 Sat 17:18] =>  0:54
  CLOCK: [2019-03-30 Sat 15:12]--[2019-03-30 Sat 15:54] =>  0:42
  CLOCK: [2019-03-30 Sat 13:18]--[2019-03-30 Sat 13:56] =>  0:38
  CLOCK: [2019-03-30 Sat 11:21]--[2019-03-30 Sat 13:04] =>  1:43
  CLOCK: [2019-03-24 Sun 12:53]--[2019-03-24 Sun 12:56] =>  0:03
  CLOCK: [2019-03-23 Sat 18:44]--[2019-03-23 Sat 20:15] =>  1:31
  :END:
** DONE Why does the repl die
   CLOSED: [2019-03-30 Sat 18:54]
      :LOGBOOK:
      CLOCK: [2019-03-30 Sat 15:54]--[2019-03-30 Sat 16:24] =>  0:30
      :END:
Posted write up to zulip, slack, and github
https://github.com/thheller/shadow-cljs/issues/469

*** Write up
I've been trying to build out an app with [[https://github.com/thheller/reagent-expo][shadow-cljs expo]] example project.
But the repl experience has been /painful/ so far.

*Steps to reproduce my problem*

In a terminal start up shadow with:
#+begin_src bash
$ shadow-cljs watch app
#+end_src
After /built/ message displays start up expo bundler with:
#+begin_src bash
$ expo start -c --lan --no-dev
#+end_src
Once that is ready to serve open the app in an emulator or physical device with the expo client.
When the app loads then connect emacs/cider to the nrepl with `cider-connect` and select the nrepl output from shadow watch command, mine looked like this:
#+begin_src bash
shadow-cljs - nREPL server started on port 8202
#+end_src
In the cider connected repl run:
#+begin_src clojure
shadow.user> (shadow/nrepl-select :app)
To quit, type: :cljs/quit
[:selected :app]
cljs.user> 
#+end_src
Now functions can be executed from the runtime on the device.
#+begin_src clojure
cljs.user> (+ 1 1)
2
cljs.user> (ns time-align-mobile.db)
time-align-mobile.db
time-align-mobile.db> (count (keys app-db))
10
time-align-mobile.db> (count (keys @re-frame.db/app-db))
10
#+end_src
But if a compilation error is made, like referencing something that doesn't exist (common mistake):
#+begin_src clojure
10
time-align-mobile.db> (does-not-exist :a :b)
eval code
eval@[native code]
/data/user/0/host.exp.exponent/files/32.0.0/cached-bundle-experience-%40jgood%2Ftime-align-mobile713852404-32.0.0:81093:20
shadow$cljs$devtools$client$env$repl_call@/data/user/0/host.exp.exponent/files/32.0.0/cached-bundle-experience-%40jgood%2Ftime-align-mobile713852404-32.0.0:80226:117
shadow$cljs$devtools$client$react_native$repl_invoke@/data/user/0/host.exp.exponent/files/32.0.0/cached-bundle-experience-%40jgood%2Ftime-align-mobile713852404-32.0.0:81091:59
shadow$cljs$devtools$client$react_native$handle_message@/data/user/0/host.exp.exponent/files/32.0.0/cached-bundle-experience-%40jgood%2Ftime-align-mobile713852404-32.0.0:81164:68
shadow$cljs$devtools$client$env$process_ws_msg@/data/user/0/host.exp.exponent/files/32.0.0/cached-bundle-experience-%40jgood%2Ftime-align-mobile713852404-32.0.0:80373:113
/data/user/0/host.exp.exponent/files/32.0.0/cached-bundle-experience-%40jgood%2Ftime-align-mobile713852404-32.0.0:81231:62
dispatchEvent@/data/user/0/host.exp.exponent/files/32.0.0/cached-bundle-experience-%40jgood%2Ftime-align-mobile713852404-32.0.0:92416:31
/data/user/0/host.exp.exponent/files/32.0.0/cached-bundle-experience-%40jgood%2Ftime-align-mobile713852404-32.0.0:94037:31
emit@/data/user/0/host.exp.exponent/files/32.0.0/cached-bundle-experience-%40jgood%2Ftime-align-mobile713852404-32.0.0:82848:42
__callFunction@/data/user/0/host.exp.exponent/files/32.0.0/cached-bundle-experience-%40jgood%2Ftime-align-mobile713852404-32.0.0:82305:49
/data/user/0/host.exp.exponent/files/32.0.0/cached-bundle-experience-%40jgood%2Ftime-align-mobile713852404-32.0.0:82131:31
__guard@/data/user/0/host.exp.exponent/files/32.0.0/cached-bundle-experience-%40jgood%2Ftime-align-mobile713852404-32.0.0:82259:15
callFunctionReturnFlushedQueue@/data/user/0/host.exp.exponent/files/32.0.0/cached-bundle-experience-%40jgood%2Ftime-align-mobile713852404-32.0.0:82130:21
callFunctionReturnFlushedQueue@[native code]
#+end_src
Then the nrepl dies and nothing can be executed:
#+begin_src clojure
time-align-mobile.db> (+ 1 1)
REPL command timed out.
time-align-mobile.db> 
#+end_src
The watching process and expo need to be restarted and cider re-connected :(
** DONE More github issue stuff
   CLOSED: [2019-04-07 Sun 11:34]
Added ~cider-nrepl~ to my global shadow-cljs config as per [[https://shadow-cljs.github.io/docs/UsersGuide.html#user-config][the user manual]].
BTW this section
#+begin_src clojure
{:dependencies
 [[cider-nrepl "0.21.0"]]}
#+end_src
should be updated to
#+begin_src clojure
{:dependencies
 [[cider/cider-nrepl "0.21.1"]]}
#+end_src

Adding that removed an error message from the cider repl and added some auto complete functionality.
After adding I'm running into an even worse problem.
#+begin_src clojure
WARNING: No Clojure project was detected. The
refactor-nrepl middleware was not enabled. (You can mute this
warning by customizing `cljr-suppress-no-project-warning'.)
shadow.user> (shadow/nrepl-select :app)
To quit, type: :cljs/quit
[:selected :app]
cljs.user> (+ 1 1)
2
cljs.user> (ns test.app)
test.app
test.app> (+ 1 1)
REPL command timed out.
test.app> 
#+end_src
Right after switching the namespace I noticed that the simulator refreshed the app.
The bundler also threw an error
#+begin_src bash
WebSocket connected!                                                                      
REPL init successful                                                                      
encoding of result failed [TypeError: Cannot convert a symbol to a string] Object {       
  "render_root": [Function shadow$expo$render_root],                                      
  "root_component_ref": Object {                                                          
    "cljs$lang$protocol_mask$partition0$": 6455296,                                       
    "cljs$lang$protocol_mask$partition1$": 16386,                                         
    "meta": null,                                                                         
    "state": Object {                                                                     
      "__isMounted": true,      
... 
#+end_src
** DONE Think about the problem
   CLOSED: [2019-04-07 Sun 16:52]
      :LOGBOOK:
      CLOCK: [2019-04-07 Sun 12:39]--[2019-04-07 Sun 16:16] =>  3:37
      :END:
There is a list time intervals.
It is sorted by start time.
#+begin_src clojure
[ [0 3] [1 5] [5 6] [6 9] [7 8] [8 11] [20 23] ]
#+end_src
That input should result in this output.
#+begin_src clojure
  [[[0 3] [1 5]]
   [[5 6]]
   [[6 9] [7 8] [8 11]]
   [[20 23]]]
#+end_src

Implementation
#+begin_src clojure
  (require '[com.rpl.specter :as sp :refer-macros [select select-one setval transform]])

  (def intervals [ [0 3] [1 5] [5 6] [6 9] [7 8] [8 11] [20 23] ])

  (defn _overlaps? [start-a stop-a start-b stop-b]
    (and (< start-b stop-a)
         (< start-a stop-b)))

  (defn _interval-overlaps-collision-group?
    [interval collision-group]
    (some? (->> collision-group
                (some #(_overlaps? (first interval)
                                   (second interval)
                                   (first %)
                                   (second %))))))

  (defn _fn [result interval]
    (let [result-fixed (if (empty? (last result))
                         result
                         (conj result []))]

      (setval

       (sp/cond-path
        [sp/ALL (partial _interval-overlaps-collision-group? interval)]
        [sp/ALL (partial _interval-overlaps-collision-group? interval) sp/AFTER-ELEM]

        [sp/ALL empty?]
        [sp/ALL empty? sp/AFTER-ELEM])

       interval
       result-fixed)))

  (reduce _fn [[]] intervals)
#+end_src
** DONE Non optimized sharing
   CLOSED: [2019-04-15 Mon 17:34]
   :LOGBOOK:
   CLOCK: [2019-04-15 Mon 17:24]--[2019-04-15 Mon 17:34] =>  0:10
   CLOCK: [2019-04-15 Mon 16:51]--[2019-04-15 Mon 17:05] =>  0:14
   CLOCK: [2019-04-15 Mon 16:51]--[2019-04-15 Mon 16:51] =>  0:00
   CLOCK: [2019-04-08 Mon 08:42]--[2019-04-08 Mon 09:15] =>  0:33
   :END:
** DONE Test that it works for planned side
   CLOSED: [2019-04-15 Mon 18:00]
   :LOGBOOK:
   CLOCK: [2019-04-15 Mon 18:00]--[2019-04-15 Mon 18:00] =>  0:00
   :END:

Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Fix hot reloading
  CLOSED: [2019-03-23 Sat 13:09]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-03-23 Sat 12:23]--[2019-03-23 Sat 13:09] =>  0:46
  :END:

Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Figure out why nrepl doesn't work
  CLOSED: [2019-04-06 Sat 23:04]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
    :LOGBOOK:
    CLOCK: [2019-04-06 Sat 21:45]--[2019-04-06 Sat 23:04] =>  1:34
    CLOCK: [2019-04-06 Sat 10:30]--[2019-04-06 Sat 10:51] =>  0:21
    CLOCK: [2019-04-05 Fri 19:56]--[2019-04-05 Fri 20:53] =>  0:57
    CLOCK: [2019-04-04 Thu 20:52]--[2019-04-04 Thu 21:42] =>  0:50
    CLOCK: [2019-04-03 Wed 18:30]--[2019-04-03 Wed 19:55] =>  1:25
    CLOCK: [2019-04-01 Mon 22:02]--[2019-04-01 Mon 23:24] =>  1:22
    :END:
https://github.com/thheller/shadow-cljs/issues/469
That thread explains everything.
Basically I'm an idiot...
** Test out different expo starts
- expo started normally
  - changing namespace reloads the app and breaks the repl
- expo started ~--no-dev~ 
  - changing namespace works but errors (boom) relaods the app and breaks the repl (tested twice)
- expo started ~--no-dev~ and production mode off in the web ui 
  - changing namespace reloads the app and breaks the repl (tested twice)
- expo started ~-c --no-dev~ and production mode on
  - changing namespace works but errors (boom) reloads the app and breaks the repl
- expo started ~-c --no-dev~ and production mode off
  - changing namespace reloads the app and break teh repl
*** Make a table
|      | expo start | expo start --no-dev | expo start --no-dev (production mode off) |
|------+------------+---------------------+-------------------------------------------+
| ns   | reloads    | works               | changing namespace reloads the app        |
| boom | reloads    | reloads             | reloads                                   |


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Update readme
  CLOSED: [2019-04-07 Sun 11:31]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-04-07 Sun 10:55]--[2019-04-07 Sun 11:31] =>  0:36
  :END:

Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Add now indicator
  CLOSED: [2018-12-07 Fri 00:32]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-12-07 Fri 00:22]--[2018-12-07 Fri 00:32] =>  0:10
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Monospaced font && syntax highlighting in data
  CLOSED: [2018-12-07 Fri 00:22]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
    :LOGBOOK:
    CLOCK: [2018-12-06 Thu 22:59]--[2018-12-07 Fri 00:22] =>  1:23
    CLOCK: [2018-12-05 Wed 20:39]--[2018-12-05 Wed 21:42] =>  1:03
    CLOCK: [2018-12-05 Wed 19:57]--[2018-12-05 Wed 20:07] =>  0:10
    :END:
https://www.npmjs.com/package/react-native-syntax-highlighter
Why can't I require this!
Starting looking into the difference between commonjs modules and es6 (among other types).
Tried to identify what type this dep was.
Didn't find anything directly applicable.
Tried requiring it again and it worked. I guess I just needed to restart or something.
Then realized this comp is only for viewing code... not editing it.
Back to just adding monospaced font.


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Add things from the day view
  CLOSED: [2018-12-09 Sun 19:17]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
    :LOGBOOK:
    CLOCK: [2018-12-09 Sun 19:13]--[2018-12-09 Sun 19:16] =>  0:03
    CLOCK: [2018-12-09 Sun 18:43]--[2018-12-09 Sun 18:44] =>  0:01
    CLOCK: [2018-12-09 Sun 15:26]--[2018-12-09 Sun 16:19] =>  0:53
    CLOCK: [2018-12-09 Sun 00:00]--[2018-12-09 Sun 00:27] =>  0:27
    CLOCK: [2018-12-08 Sat 22:57]--[2018-12-08 Sat 23:43] =>  0:46
    CLOCK: [2018-12-08 Sat 20:47]--[2018-12-08 Sat 22:32] =>  1:45
    :END:
- [X] Figure out how to turn a touch event into a date
- [X] Refactor some handler stuff to actually start creating a period from a touch event
- [X] Remove info and make selection menu all buttons so they are big enough to press
- [X] Change selection indicator because I don't know what I'm actually selecting
- [X] Add time indicators
- [-] Create a bucket selection modal
- [X] Alter add-period handler to take nil bucket-id
- [X] Dispatch =:add-period=, +=:load-period-form=,+ and =:navigate-to=


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Fix spacing on data
  CLOSED: [2018-12-09 Sun 20:29]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
    :LOGBOOK:
    CLOCK: [2018-12-09 Sun 19:18]--[2018-12-09 Sun 20:29] =>  1:11
    :END:
Use zprint width and other options


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Make selection border slightly transparent
  CLOSED: [2019-01-26 Sat 17:46]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
    :LOGBOOK:
    CLOCK: [2019-01-26 Sat 16:48]--[2019-01-26 Sat 17:46] =>  0:58
    :END:
Moved the border instead.


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Reduce ticking or pull it out of a re-frame event
  CLOSED: [2019-01-27 Sun 19:36]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:

Reduced it


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Task doesn't show when it is more than a day long
  CLOSED: [2019-04-26 Fri 22:50]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:

Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Secure store over wrote on a crashed app?
  CLOSED: [2019-01-26 Sat 15:09]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
    :LOGBOOK:
    CLOCK: [2019-01-26 Sat 14:59]--[2019-01-26 Sat 15:08] =>  0:09
    CLOCK: [2019-01-26 Sat 14:48]--[2019-01-26 Sat 14:48] =>  0:00
    CLOCK: [2019-01-25 Fri 20:36]--[2019-01-25 Fri 20:36] =>  0:00
    :END:
Turned on spec... not sure what else to do.
A db import is the only real solution. That is noted elsewhere.


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Change bottom play tobplay from when selected
  CLOSED: [2019-04-17 Wed 16:22]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-04-17 Wed 16:17]--[2019-04-17 Wed 16:22] =>  0:05
  :END:

Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Attempted implementation before sketching
  CLOSED: [2019-04-19 Fri 17:36]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food/Template a day
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
** DONE Add to db
   CLOSED: [2019-04-19 Fri 16:46]
   :LOGBOOK:
   CLOCK: [2019-04-17 Wed 19:01]--[2019-04-17 Wed 19:43] =>  0:42
   CLOCK: [2019-04-17 Wed 17:48]--[2019-04-17 Wed 17:57] =>  0:09
   CLOCK: [2019-04-17 Wed 17:19]--[2019-04-17 Wed 17:28] =>  0:09
   :END:
** DONE Handlers
   CLOSED: [2019-04-19 Fri 16:46]
   :LOGBOOK:
   CLOCK: [2019-04-18 Thu 11:37]--[2019-04-18 Thu 12:40] =>  1:03
   CLOCK: [2019-04-18 Thu 09:48]--[2019-04-18 Thu 10:27] =>  0:39
   CLOCK: [2019-04-17 Wed 22:01]--[2019-04-17 Wed 22:01] =>  0:00
   CLOCK: [2019-04-17 Wed 21:04]--[2019-04-17 Wed 22:01] =>  0:57
   :END:
** DONE Subscriptions
   CLOSED: [2019-04-19 Fri 17:36]
   :LOGBOOK:
   CLOCK: [2019-04-19 Fri 16:47]--[2019-04-19 Fri 17:36] =>  0:49
   CLOCK: [2019-04-18 Thu 18:32]--[2019-04-18 Thu 18:38] =>  0:06
   :END:

Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Pattern form
  CLOSED: [2019-04-22 Mon 22:03]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food/Template a day/After sketch
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
** DONE Navigation
   CLOSED: [2019-04-22 Mon 21:57]
   :LOGBOOK:
   CLOCK: [2019-04-22 Mon 21:08]--[2019-04-22 Mon 21:08] =>  0:00
   CLOCK: [2019-04-20 Sat 22:07]--[2019-04-20 Sat 22:31] =>  0:24
   :END:
** DONE Form screen
   CLOSED: [2019-04-22 Mon 21:57]
   :LOGBOOK:
   CLOCK: [2019-04-22 Mon 21:08]--[2019-04-22 Mon 21:57] =>  0:49
   :END:
** DONE Form in db
   CLOSED: [2019-04-22 Mon 21:58]
** DONE Form handlers
   CLOSED: [2019-04-22 Mon 22:03]
   :LOGBOOK:
   CLOCK: [2019-04-22 Mon 21:58]--[2019-04-22 Mon 21:58] =>  0:00
   :END:

Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Patterns list
  CLOSED: [2019-04-22 Mon 22:37]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food/Template a day/After sketch
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-04-19 Fri 17:36]--[2019-04-19 Fri 17:36] =>  0:00
  :END:
** DONE Subscription
   CLOSED: [2019-04-19 Fri 17:46]
   :LOGBOOK:
   CLOCK: [2019-04-19 Fri 17:36]--[2019-04-19 Fri 17:46] =>  0:10
   :END:
** DONE Make a screen
   CLOSED: [2019-04-19 Fri 19:08]
   :LOGBOOK:
   CLOCK: [2019-04-19 Fri 18:26]--[2019-04-19 Fri 19:08] =>  0:42
   :END:
** DONE Wire up the screen buttons
   CLOSED: [2019-04-22 Mon 22:36]
Need to add pattern form screen first
*** DONE Add
    CLOSED: [2019-04-22 Mon 22:36]
    :LOGBOOK:
    CLOCK: [2019-04-22 Mon 22:33]--[2019-04-22 Mon 22:36] =>  0:03
    CLOCK: [2019-04-22 Mon 22:04]--[2019-04-22 Mon 22:06] =>  0:02
    :END:
*** DONE Click on item
    CLOSED: [2019-04-22 Mon 22:04]
** CANCELED Template
   CLOSED: [2019-04-22 Mon 22:37]
I don't know what this was for

Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Templates?
  CLOSED: [2019-04-22 Mon 23:20]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food/Template a day/After sketch
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-04-22 Mon 22:39]--[2019-04-22 Mon 23:20] =>  0:41
  :END:

Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* DONE Expo vs PWA
  CLOSED: [2019-03-23 Sat 13:34]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
   :LOGBOOK:
   CLOCK: [2019-03-31 Sun 14:43]--[2019-03-31 Sun 14:50] =>  0:07
   CLOCK: [2019-03-23 Sat 13:24]--[2019-03-23 Sat 13:34] =>  0:10
   :END:
|      | Expo                     | PWA                                           |
|------+--------------------------+-----------------------------------------------|
| Pros | No hosting to distribute | Better tool integration                       |
|      | Similar to work          | Better material design library                |
|      |                          | /Battle/ tested in production                 |
|      |                          | No potential for payment blockage             |
|      |                          | Aligns with ideals (protocols over platforms) |
|      |                          |                                               |
| Cons | Apple store              | No notifications for ios                      |
|      |                          | Starting over                                 |
|      |                          | Have to learn how to service worker           |
|      |                          |                                               |
<2019-03-23 Sat> Net point is 1 for each ... guess I stay where I am rn
<2019-03-31 Sun> Net point is 1 vs 2, time to switch back to PWA?

Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* CANCELED Change the relationship between info and button sections
  CLOSED: [2019-01-27 Sun 19:28]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens/Day/Display/Get down to it/Selection display/Selection menu
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

Only show UUID start and stop with an option to expand and show the rest.
Leaves more room for buttons, which should be bigger and arranged differently.


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* CANCELED Handler validation and errors
  CLOSED: [2019-01-27 Sun 14:00]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:
    :LOGBOOK:
    CLOCK: [2018-07-24 Tue 08:09]--[2018-07-24 Tue 08:30] =>  0:21
    :END:
Should spec eval only be on dev?
How else can we validate handlers and alert the user when they fail?
Check and throw now returns old db if it fails


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* CANCELED Dragging periods
  CLOSED: [2019-01-27 Sun 14:00]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:
    :LOGBOOK:
    CLOCK: [2018-07-22 Sun 12:32]--[2018-07-22 Sun 12:34] =>  0:02
    CLOCK: [2018-07-22 Sun 12:17]--[2018-07-22 Sun 12:32] =>  0:15
    :END:
[[https://snack.expo.io/Syy1bqKxW][Example of panresponder]]
I think the panresponder with panhandlers would go on the containing svg element. 
Each svg child element would have [[https://github.com/react-native-community/react-native-svg#touch-events][touch events]] (=on-press-in= and =on-press-out=) that set and reset a /selected element/.
When the pan responder gets move events it takes the x & y positions, translates them to a time, and updates the /start/ and /stop/ on the /selected element/.
Translating the x & y to a time will be tricky. Will probably have to [[https://facebook.github.io/react-native/docs/dimensions][get device dimensions]] to set and know the absolute values of svg element.
Search =drag n drop poc= in day screen


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* CANCELED Refactor usage of =:dispatch=
  CLOSED: [2019-01-27 Sun 14:27]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

Order cannot be guaranteed. Go through usages and refactor the dispatch to instead use the functions for those handlers 
directly in the handler that is trying to dispatch other events.


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* CANCELED Add filter option for time (today, tomorrow, this week)
  CLOSED: [2019-01-27 Sun 15:24]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* CANCELED Fix cider after upgrading laptop
  CLOSED: [2019-01-25 Fri 20:10]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:
  :LOGBOOK:
  CLOCK: [2019-01-06 Sun 18:41]--[2019-01-06 Sun 20:46] =>  2:05
  CLOCK: [2019-01-06 Sun 18:23]--[2019-01-06 Sun 18:41] =>  0:18
  CLOCK: [2019-01-06 Sun 14:36]--[2019-01-06 Sun 16:00] =>  1:24
  CLOCK: [2019-01-05 Sat 20:38]--[2019-01-05 Sat 20:38] =>  0:00
  CLOCK: [2019-01-05 Sat 16:24]--[2019-01-05 Sat 20:38] =>  4:14
  CLOCK: [2018-12-16 Sun 14:00]--[2018-12-16 Sun 17:43] =>  3:43
  :END:

** Stuff I should have done but didn't

https://github.com/clojure-emacs/cider/blob/master/doc/troubleshooting.md
- [ ] Check emacs version
  - [ ] new
  - [ ] old
- [ ] Check emacs cider version
  - [ ] new 
  - [ ] old
- [ ] Follow troubleshooting guide
- [ ] Post an issue of all logs files to the cider github repo

** Fixing the =cider-jack-in= problem

Noticed the versions of cider on my old dev setup where much older.
Bumped up everything that seemed related in project.clj
f1229ce90600cdda92daadd2bb8edb76526ff77f <--- commit

** Fixing expo bundler connection problem
     :LOGBOOK:
     CLOCK: [2019-01-06 Sun 20:46]--[2019-01-06 Sun 22:21] =>  1:35
     :END:
#+begin_src bash
[20:33:28] goog.require could not find: figwheel.connect.build_main
[20:33:28] [Error: goog.require could not find: figwheel.connect.build_main]
#+end_src

** Summary so far

Because of 
- lein having an nrepl version greater than 4
- spacemacs using bleeding edge clojure layer melpa packages
- exponent template using older figwheel and piggieback dependencies

I can't get /everything/ to work.

If i don't touch the dependencies in the project I can run `lein figwheel` it compiles and expo can bundle and serve to /an older version/ of the expo client.
But I can't cider-jack-in with spacemacs or run a lein repl. Spacemacs is using too new of cider and friends versions and lein has too high an nrepl version.

If I update the project dependencies then cider-jack-in will work but when I try to open the project in the expo client there is that expo bundler connection problem above.

Sane thing to do is go without a +real+ integrated repl. When a repl is needed jump onto the command line and hand type it in.

** Lets try and understand what is happening
     :LOGBOOK:
     CLOCK: [2019-01-08 Tue 19:43]--[2019-01-08 Tue 21:31] =>  1:48
     :END:
Tried tracing through working backwrods from error.
Error is gotten by watching the expo bundler after starting fighweel (either cli with lein figwheel or with cider) and then opening the app.
It just says =Network request failed=.
Tried tracing through fighwheel bridge and searching that error but all my edits to figwheel bridge and node_modules don't show up in the app loading screen or the bundler console log.


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* CANCELED Attempt to upgrade expo template for new version of cider
  CLOSED: [2019-03-16 Sat 13:06]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

** Create a new project and verify it works
     :LOGBOOK:
     CLOCK: [2019-01-08 Tue 19:00]--[2019-01-08 Tue 19:21] =>  0:21
     :END:
#+begin_src bash
lein new expo cider-expo-test --reagent
# Add ip address to .lan-ip
lein figwheel
# In a separate command line
expo start --lan --no-dev
# Open app in expo client on device
#+end_src

** Try to open a repl with spacemacs/cider
     :LOGBOOK:
     CLOCK: [2019-01-08 Tue 19:21]--[2019-01-08 Tue 19:32] =>  0:11
     :END:
#+begin_src 
SPC m i 
# select lein

# output
Warning: implicit middleware found: refactor-nrepl.plugin/middleware 
Please declare all middleware in :middleware as implicit loading is deprecated.
Warning: implicit middleware found: cider-nrepl.plugin/middleware 
Please declare all middleware in :middleware as implicit loading is deprecated.
[WARNING] No nREPL middleware descriptor in metadata of #'cemerick.piggieback/wrap-cljs-repl, see nrepl.middleware/set-descriptor!
[WARNING] No nREPL middleware descriptor in metadata of #'refactor-nrepl.middleware/wrap-refactor, see nrepl.middleware/set-descriptor!
nREPL server started on port 36141 on host localhost - nrepl://localhost:36141
ERROR: Unhandled REPL handler exception processing message {:op clone, :id 1}
java.lang.NullPointerException
	at clojure.core$deref_future.invokeStatic(core.clj:2292)
	at clojure.core$deref.invokeStatic(core.clj:2312)
	at clojure.core$deref.invoke(core.clj:2298)
	at cemerick.piggieback$wrap_cljs_repl$fn__23172.invoke(piggieback.clj:288)
	at clojure.tools.nrepl.middleware$wrap_conj_descriptor$fn__18110.invoke(middleware.clj:22)
	at nrepl.server$handle_STAR_.invokeStatic(server.clj:18)
	at nrepl.server$handle_STAR_.invoke(server.clj:15)
	at nrepl.server$handle$fn__22750.invoke(server.clj:27)
	at clojure.core$binding_conveyor_fn$fn__5476.invoke(core.clj:2022)
	at clojure.lang.AFn.call(AFn.java:18)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

#+end_src


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* CANCELED Set up a custom minimal ui component library
  CLOSED: [2019-01-28 Mon 21:09]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:
  :LOGBOOK:
  CLOCK: [2019-01-28 Mon 20:00]--[2019-01-28 Mon 20:18] =>  0:18
  :END:

** CANCELED Refactor =components/=
   CLOSED: [2019-01-28 Mon 20:23]
   :LOGBOOK:
   CLOCK: [2019-01-28 Mon 20:18]--[2019-01-28 Mon 20:23] =>  0:05
   :END:


Archived entries from file /home/justin/projects/time-align-mobile/time-align-mobile.org


* CANCELED Turn a period into a template
  CLOSED: [2019-04-26 Fri 22:49]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:34
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:
Duplicate

* DONE Day
  CLOSED: [2019-05-09 Thu 20:35]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:35
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2018-09-21 Fri 07:40]--[2018-09-21 Fri 08:10] =>  0:30
  :END:

** DONE Display
   CLOSED: [2019-05-09 Thu 20:35]
   :LOGBOOK:
   :END:

*** DONE Get down to it
    CLOSED: [2019-05-09 Thu 20:35]
    :LOGBOOK:
    CLOCK: [2018-10-07 Sun 19:55]--[2018-10-07 Sun 19:59] =>  0:04
    :END:

**** DONE Selection display
     CLOSED: [2019-05-09 Thu 20:35]
       :LOGBOOK:
       CLOCK: [2018-10-18 Thu 17:48]--[2018-10-18 Thu 18:14] =>  0:26
       CLOCK: [2018-10-13 Sat 19:03]--[2018-10-13 Sat 19:04] =>  0:01
       :END:
- Separate the display info|actions
  - Make info scrollable
  - Actions should be absolutely sized
- Use zstring editor for info

***** DONE Selection menu
      CLOSED: [2019-05-09 Thu 20:35]
      :LOGBOOK:
      CLOCK: [2018-11-17 Sat 11:50]--[2018-11-17 Sat 11:50] =>  0:00
      CLOCK: [2018-10-18 Thu 18:14]--[2018-10-18 Thu 19:01] =>  0:47
      :END:

****** DOSUB Select next / prev
       :LOGBOOK:
       CLOCK: [2018-11-17 Sat 15:54]--[2018-11-17 Sat 16:28] =>  0:34
       CLOCK: [2018-11-17 Sat 14:06]--[2018-11-17 Sat 14:34] =>  0:28
       CLOCK: [2018-11-17 Sat 11:46]--[2018-11-17 Sat 11:47] =>  0:01
       CLOCK: [2018-11-11 Sun 19:22]--[2018-11-11 Sun 19:25] =>  0:03
       :END:

******* DOSUB Need to take into account
******** TODO Displayed day

Displayed day isn't represented in app-db so that needs to be taken care of first.
Then it should be straight forward to use it as a filter in the select next handler.

******** Planned

Needs to stay in the same track as the currently selected period with a sane default

***** DONE Figure out how to handle overlapping periods
      CLOSED: [2019-05-09 Thu 20:35]

- Use a next / prev button in the menu
  - order periods by start
  - filter by start < or > then take the first 


* CANCELED Settings
  CLOSED: [2019-05-09 Thu 20:36]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:36
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Screens
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:
** CANCELED Data field mode
   CLOSED: [2019-05-09 Thu 20:36]

* CANCELED Preserve ordering of data keys
  CLOSED: [2019-05-09 Thu 20:41]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:41
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

* CANCELED Data view modal on info section
  CLOSED: [2019-05-09 Thu 20:42]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:42
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

* CANCELED Create template from period
  CLOSED: [2019-05-09 Thu 20:45]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:45
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

* CANCELED From last to now
  CLOSED: [2019-05-09 Thu 20:48]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:48
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

* DONE Play button outside selection
  CLOSED: [2019-05-09 Thu 20:48]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:48
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:

* CANCELED Select closest period
  CLOSED: [2019-05-09 Thu 20:49]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:49
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

Convert touch to time and select the closest period.


* CANCELED Add as start now or as stop now
  CLOSED: [2019-05-09 Thu 20:49]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:49
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

* CANCELED Things hard to do
  CLOSED: [2019-05-09 Thu 20:49]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:49
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

- make new buckets
- make new templates
- add a template to now
- stretch shrink a period
See


* CANCELED Order tamplates by last usage or edit
  CLOSED: [2019-05-09 Thu 20:49]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:49
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

* CANCELED Entry ui
  CLOSED: [2019-05-09 Thu 20:50]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:50
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:
Duplicate


* CANCELED Insert and shift
  CLOSED: [2019-05-09 Thu 20:51]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:51
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

Start on start and shift down or stop on stop and shift up
Wut does this even mean?

* CANCELED Zoom in
  CLOSED: [2019-05-09 Thu 20:51]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:51
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

* CANCELED Jump to start stop
  CLOSED: [2019-05-09 Thu 20:51]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:51
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

* CANCELED Template group
  CLOSED: [2019-05-09 Thu 20:51]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:51
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

A group of period templates that can be added at the same time.


* CANCELED New starting after/ending  before
  CLOSED: [2019-05-09 Thu 20:52]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:52
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

* CANCELED Cancel add period on each modal
  CLOSED: [2019-05-09 Thu 20:52]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:52
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

* CANCELED Put something between two selected periods
  CLOSED: [2019-05-09 Thu 20:53]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:53
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

* CANCELED Plugin style other app linking (walking amd strava)
  CLOSED: [2019-05-09 Thu 20:53]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:53
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

* CANCELED Move left and right (next prev day)
  CLOSED: [2019-05-09 Thu 20:54]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:54
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

* CANCELED Template groups relative start
  CLOSED: [2019-05-09 Thu 20:54]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:54
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

Either have all start times be absolute or relative. Maybe an option when creating the group.


* CANCELED Long press to place a default
  CLOSED: [2019-05-09 Thu 20:54]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-05-09 Thu 20:54
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Dog food
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

Long pressing shouldn't bring you to the edit screen, double tapping should.


* DONE Fix something I broke and then play with spec'ing functions
  CLOSED: [2019-06-01 Sat 19:44]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-06-01 Sat 19:44
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc/Overhaul style with react native elements
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-03-22 Fri 19:32]--[2019-03-22 Fri 20:41] =>  1:09
  :END:

* CANCELED Inputs on forms
  CLOSED: [2019-06-01 Sat 19:44]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-06-01 Sat 19:44
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc/Overhaul style with react native elements
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:
  :LOGBOOK:
  CLOCK: [2019-03-17 Sun 16:34]--[2019-03-17 Sun 16:44] =>  0:10
  CLOCK: [2019-03-17 Sun 15:18]--[2019-03-17 Sun 16:29] =>  1:11
  CLOCK: [2019-03-17 Sun 14:27]--[2019-03-17 Sun 14:27] =>  0:00
  CLOCK: [2019-03-16 Sat 19:40]--[2019-03-16 Sat 21:26] =>  1:46
  :END:
- [X] Bucket
- [ ] Period
- [ ] Template
- [ ] Filter
- [ ] Shared components


* DONE Copy style of _things_ and _airtable_
  CLOSED: [2019-06-17 Mon 17:47]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-06-17 Mon 17:47
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc/Overhaul style with react native elements
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
     :LOGBOOK:
     :END:
https://culturedcode.com/things/
https://airtable.com

** DONE Make menu button backround dark
   CLOSED: [2019-06-01 Sat 20:32]
   :LOGBOOK:
   CLOCK: [2019-06-01 Sat 20:32]--[2019-06-01 Sat 20:47] =>  0:15
   CLOCK: [2019-06-01 Sat 20:32]--[2019-06-01 Sat 20:32] =>  0:00
  CLOCK: [2019-06-01 Sat 19:50]--[2019-06-01 Sat 20:32] =>  0:42
   :END:
** DONE Fix _floating_ action buttons
   CLOSED: [2019-06-17 Mon 17:47]
   :LOGBOOK:
   CLOCK: [2019-06-02 Sun 20:01]--[2019-06-02 Sun 20:02] =>  0:01
   :END:

*** DONE Add basic example of FAB
    CLOSED: [2019-06-10 Mon 18:42]
    :LOGBOOK:
    CLOCK: [2019-06-10 Mon 17:55]--[2019-06-10 Mon 18:40] =>  0:45
    :END:
*** DONE Make FAB useful
    CLOSED: [2019-06-12 Wed 19:23]
       :LOGBOOK:
       CLOCK: [2019-06-12 Wed 18:28]--[2019-06-12 Wed 19:22] =>  0:54
       CLOCK: [2019-06-11 Tue 19:43]--[2019-06-11 Tue 20:54] =>  1:11
       :END:
- [X] +Change icon for main button+
- [X] Add actions with icons
  - [X] Template
  - [X] Play
  - [X] Play from (if something selected)

** DONE Fix now indicator time alignment
   CLOSED: [2019-06-02 Sun 20:10]
   :LOGBOOK:
   CLOCK: [2019-06-02 Sun 20:03]--[2019-06-02 Sun 20:10] =>  0:07
   :END:
** DONE Fix buttons in selection menu
   CLOSED: [2019-06-17 Mon 17:47]
   :LOGBOOK:
   CLOCK: [2019-06-16 Sun 16:34]--[2019-06-16 Sun 17:30] =>  0:56
   CLOCK: [2019-06-12 Wed 19:26]--[2019-06-12 Wed 20:03] =>  0:37
   :END:

* DONE Day
  CLOSED: [2019-06-17 Mon 17:47]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-06-17 Mon 17:47
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc/Overhaul style with react native elements
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
     :LOGBOOK:
     CLOCK: [2019-03-23 Sat 18:43]--[2019-03-23 Sat 18:43] =>  0:00
     CLOCK: [2019-03-23 Sat 13:34]--[2019-03-23 Sat 14:48] =>  1:14
     CLOCK: [2019-03-23 Sat 13:09]--[2019-03-23 Sat 13:18] =>  0:09
     CLOCK: [2019-03-22 Fri 20:42]--[2019-03-22 Fri 22:07] =>  1:25
     :END:
The react components not re-rendering on saving is really annoying. Thinking about jumping back to PWA...
Had to refactor some stuff to make it easier to do visual design.
** CANCELED Floating action button for playing
   CLOSED: [2019-06-17 Mon 17:47]
   :LOGBOOK:
   CLOCK: [2019-04-15 Mon 18:23]--[2019-04-15 Mon 18:48] =>  0:25
   :END:
** CANCELED Better button menu
   CLOSED: [2019-06-17 Mon 17:47]

* DONE Overhaul style with react native elements
  CLOSED: [2019-06-17 Mon 17:47]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-06-17 Mon 17:47
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Misc
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-03-16 Sat 19:39]--[2019-03-16 Sat 19:40] =>  0:01
  CLOCK: [2019-03-16 Sat 13:08]--[2019-03-16 Sat 13:38] =>  0:30
  :END:

* DOSUB Screens
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-06-17 Mon 17:57
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DOSUB
  :END:
** DOSUB Report
*** TODO Summary
*** TODO Info
** TODO Calendar

* DOSUB Reusable Components
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-06-17 Mon 17:57
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DOSUB
  :END:
** TODO Time-nav
   :LOGBOOK:
   CLOCK: [2018-11-17 Sat 11:47]--[2018-11-17 Sat 11:49] =>  0:02
   :END:

** TODO Time-range

* DOSUB Misc
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-06-17 Mon 17:57
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DOSUB
  :END:
  :LOGBOOK:
  CLOCK: [2019-03-16 Sat 13:07]--[2019-03-16 Sat 13:08] =>  0:01
  CLOCK: [2018-07-23 Mon 08:53]--[2018-07-23 Mon 08:54] =>  0:01
  :END:
** TODO Interesting idea for background processes

https://medium.com/@inkdrop/a-simple-way-to-run-js-in-background-thread-on-react-native-8fff345576da

** TODO Add filters to select (period/template/bucket) modals
** TODO Import
    :LOGBOOK:
    CLOCK: [2018-12-03 Mon 18:00]--[2018-12-03 Mon 18:24] =>  0:24
    :END:
Eventually something cool like drop box integration.
Mostly likely a past text input for the app-db in edn or json, possibly a url to go grab it.
Might have to wait for a share reciever expo api, or detach.

** TODO Multiple in-play at once

* DOSUB Dog food
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-06-17 Mon 17:57
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DOSUB
  :END:
** TODO Make data collapsible
** TODO Default filters

- today
- planned
- actual

** TODO Stackable filters
Does this happen in the filter selection or composite filters creatable in the filter form?
** TODO Quick add on day view
Long press to activate. Drag and release to set start, drag and release to set stop.
- Modals for selecting bucket or templates
- Press and drag for duration

** TODO Add bucket color in selection on period form
** TODO Add duration indication to period form (graphical?)
** TODO Move end to now
Option when a period is selected
** TODO Add exit to modals
** TODO Play from new vs play from end
Buttons for both playing a period that is
- the same label/parent/data as the selected but starts now
- _?the same label/parent/data?_ as the selected but starts when the selected ends
** TODO Play from should change displayed day
** TODO Add port indicator

The export dialog takes awhile to pop up.
If this is inevitable then add some kind of loading animation.
** TODO Create template from period
Then it needs to be added to a pattern?
+Or do templates free float some times?+
Yes it does need to be added to a pattern, option to make a new pattern that only has this template.
** TODO Play from id added to new period
When a new period is created add a data field
** TODO Snap to hour and surrounding periods
Options in the selection menu.
** TODO Free text or better data

Maybe checklists that are easy to get to

** TODO Copy to next (today?) day plan
** TODO Notifications

Get notified with options to adjust plan (snooze) or start a timer.

** TODO Dont show stop time when in play
Or at least color it to show it is changing.
** TODO Jump to playing when another period is selected
In the selection menu.
** TODO Jump to today
In the top bar.
** TODO Back button should navigate to last screen
    :LOGBOOK:
    CLOCK: [2018-08-18 Sat 14:51]--[2018-08-18 Sat 14:56] =>  0:05
    :END:
https://github.com/Day8/re-frame-undo
https://facebook.github.io/react-native/docs/backhandler#docsNav

** TODO Better start stop indicator on day view

Remove the start, and stop from the button section.
Add horizontal bars (like the now indicator) sandwiching the period with ~hh:mm~ on them.

** TODO Remove offset from time stamp form fields
** TODO Show only first six digits of id with a modal on press for the full value
   :LOGBOOK:
   CLOCK: [2019-03-17 Sun 16:29]--[2019-03-17 Sun 16:29] =>  0:00
   :END:

** DONE Template a day
   CLOSED: [2019-05-29 Wed 20:50]
   :LOGBOOK:
   CLOCK: [2019-04-19 Fri 16:30]--[2019-04-19 Fri 16:47] =>  0:17
   CLOCK: [2019-04-17 Wed 17:19]--[2019-04-17 Wed 17:19] =>  0:00
   CLOCK: [2019-04-17 Wed 16:23]--[2019-04-17 Wed 16:33] =>  0:10
   CLOCK: [2019-04-16 Tue 13:30]--[2019-04-16 Tue 14:30] =>  1:00
   :END:
*** DONE After sketch 
    CLOSED: [2019-05-29 Wed 20:50]
**** DONE Planning
     CLOSED: [2019-05-29 Wed 20:50]
      :LOGBOOK:
      CLOCK: [2019-05-29 Wed 20:22]--[2019-05-29 Wed 20:50] =>  0:28
      CLOCK: [2019-05-29 Wed 20:04]--[2019-05-29 Wed 20:04] =>  0:00
      CLOCK: [2019-05-29 Wed 19:31]--[2019-05-29 Wed 20:04] =>  0:33
      CLOCK: [2019-05-28 Tue 18:51]--[2019-05-28 Tue 20:15] =>  1:24
      CLOCK: [2019-05-28 Tue 18:50]--[2019-05-28 Tue 18:50] =>  0:00
      CLOCK: [2019-05-28 Tue 16:45]--[2019-05-28 Tue 17:33] =>  0:48
      CLOCK: [2019-05-27 Mon 19:00]--[2019-05-27 Mon 19:17] =>  0:17
      CLOCK: [2019-05-27 Mon 18:02]--[2019-05-27 Mon 18:56] =>  0:54
      CLOCK: [2019-05-27 Mon 17:15]--[2019-05-27 Mon 17:52] =>  0:37
      CLOCK: [2019-05-19 Sun 19:43]--[2019-05-19 Sun 20:23] =>  0:40
      CLOCK: [2019-05-19 Sun 19:01]--[2019-05-19 Sun 19:18] =>  0:17
      CLOCK: [2019-05-19 Sun 15:58]--[2019-05-19 Sun 16:05] =>  0:07
      CLOCK: [2019-05-18 Sat 18:33]--[2019-05-18 Sat 19:31] =>  0:58
      CLOCK: [2019-05-05 Sun 14:45]--[2019-05-05 Sun 16:11] =>  1:26
      CLOCK: [2019-05-04 Sat 15:27]--[2019-05-04 Sat 17:26] =>  1:59
      CLOCK: [2019-05-04 Sat 12:53]--[2019-05-04 Sat 13:45] =>  0:52
      CLOCK: [2019-05-04 Sat 12:09]--[2019-05-04 Sat 12:12] =>  0:03
      CLOCK: [2019-04-28 Sun 20:03]--[2019-04-28 Sun 20:39] =>  0:36
      CLOCK: [2019-04-28 Sun 17:57]--[2019-04-28 Sun 18:51] =>  0:54
      CLOCK: [2019-04-28 Sun 15:00]--[2019-04-28 Sun 15:03] =>  0:03
      CLOCK: [2019-04-28 Sun 14:53]--[2019-04-28 Sun 14:59] =>  0:06
      CLOCK: [2019-04-28 Sun 12:48]--[2019-04-28 Sun 13:14] =>  0:26
      CLOCK: [2019-04-28 Sun 11:45]--[2019-04-28 Sun 12:22] =>  0:37
      CLOCK: [2019-04-27 Sat 19:33]--[2019-04-27 Sat 20:27] =>  0:54
      CLOCK: [2019-04-27 Sat 18:07]--[2019-04-27 Sat 18:26] =>  0:19
      CLOCK: [2019-04-27 Sat 16:29]--[2019-04-27 Sat 16:30] =>  0:01
      CLOCK: [2019-04-27 Sat 15:35]--[2019-04-27 Sat 15:37] =>  0:02
      CLOCK: [2019-04-27 Sat 14:32]--[2019-04-27 Sat 14:47] =>  0:15
      CLOCK: [2019-04-26 Fri 22:17]--[2019-04-26 Fri 23:47] =>  1:30
      CLOCK: [2019-04-25 Thu 21:40]--[2019-04-25 Thu 22:21] =>  0:41
      CLOCK: [2019-04-24 Wed 21:15]--[2019-04-24 Wed 23:37] =>  2:22
      CLOCK: [2019-04-23 Tue 16:39]--[2019-04-23 Tue 17:38] =>  0:59
      CLOCK: [2019-04-23 Tue 16:15]--[2019-04-23 Tue 16:16] =>  0:01
      CLOCK: [2019-04-23 Tue 15:52]--[2019-04-23 Tue 16:00] =>  0:08
      CLOCK: [2019-04-23 Tue 14:05]--[2019-04-23 Tue 14:37] =>  0:32
      :END:
- [X] Screen stub
- [X] Nav
  - [X] Navigation.cljs
  - [X] Handlers ~:navigate-to~
    - Might have to one day load the form again
  - [X] Temporary drawer item
- [X] Subs
- [-] Screen
  - [X] Dimension awareness
  - [X] Time indicators
  - [X] Template rendering
  - [X] Top bar (pattern label)
  - [X] Bottom bar
    - [X] Back to pattern form
    - [X] Save pattern form
      - [X] Get pattern form changes sub
        - It was already done
    - [X] Apply pattern form to day
  - [X] Selection menu
    - [X] Ability to select
    - [X] Selection menu buttons
      - [X] Copy over relevant day buttons
      - [X] Translate period buttons to pattern form updates
        - [X] Fix template start/stop data model
          - Should probably be ms of 24 hours and then parse into a date time
          - [X] Update app.db specs and default
          - [X] Handlers
          - [X] Search ~start~ ~stop~
          - [X] Compile it
          - [X] Functional test
        - [X] Rest of the buttons
          - [X] Select next or prev button
            - [X] Fix template form
              - [X] Start sto             - [X] Bucket label parent picker comp
            - [X] Test in repl
- [X] Pattern form component (link to screen)
- [X] Add new template to pattern plan with long press
- [X] Apply pattern to day in day screen
  - [X] Set up modal with list to select from
  - [X] Write handler function to transform and insert templates as periods into buckets
  - [X] Test out the handler function
- [X] Remove stub menu entry
- [X] Fix long press on pattern planning
- [X] Be able to edit templates on the form in the planning screen
  - [X] Add special template form navigation case in handlers
  - [X] Add new handler for loading special template form
  - [X] Add other handlers from form buttons
  - [X] Change edit button in pattern planning
  - [X] Adjust change detection
  - [X] Figure out how to navigate back to pattern planning without loading form
** DONE Fix bucket form showing changes when nothing is edited in the form
   CLOSED: [2019-06-01 Sat 14:00]
   :LOGBOOK:
   CLOCK: [2019-06-01 Sat 13:40]--[2019-06-01 Sat 14:00] =>  0:20
   :END:
** DONE Fix changing bucket on template from day planning
   CLOSED: [2019-06-01 Sat 14:16]
   :LOGBOOK:
   CLOCK: [2019-06-01 Sat 14:00]--[2019-06-01 Sat 14:16] =>  0:16
   :END:

** TODO Change day selection menu buttons to gestures
   :LOGBOOK:
   CLOCK: [2019-06-02 Sun 19:27]--[2019-06-02 Sun 19:27] =>  0:00
   :END:
*** DONE Create finite state machine diagram
    CLOSED: [2019-06-02 Sun 19:59]

     :LOGBOOK:
     CLOCK: [2019-06-02 Sun 19:27]--[2019-06-02 Sun 19:59] =>  0:32
     :END:
#+begin_src markdown
`https://mermaidjs.github.io/mermaid-live-editor/#/view/eyJjb2RlIjoiZ3JhcGggTFJcbmVkaXR7ZWRpdH0gLS0-IHxuYXZ8IHZpZXdcbnZpZXcgLS0-IHxsb25nIHByZXNzIG9ufCBlZGl0XG5hZGR7YWRkfSAtLT4gfG5hdnwgdmlld1xudmlldyAtLT4gfGxvbmcgcHJlc3MgYXJvdW5kfCBhZGRcbnZpZXcgLS0-IHx0YXAgb258IHNlbGVjdGVkXG5zZWxlY3RlZCAtLT4gfGxvbmcgcHJlc3MgYXJvdW5kfCBzdHJldGNoL3Nocmlua1xuc3RyZXRjaC9zaHJpbmsgLS0-IHx0YXAgYmVsb3d8IGJhY2stZm9yd2FyZHtzdG9wIGZvcndhcmR9XG5zdHJldGNoL3NocmluayAtLT4gfHRhcCBpbiBib3R0b20gaGFsZnwgc3RvcC1iYWNre3N0b3AgYmFja31cbnN0cmV0Y2gvc2hyaW5rIC0tPiB8dGFwIGluIHRvcCBoYWxmfCBzdGFydC1mb3J3YXJke3N0YXJ0IGZvcndhcmR9XG5zdHJldGNoL3NocmluayAtLT4gfHRhcCBhYm92ZXwgc3RhcnQtYmFja3tzdGFydCBiYWNrfVxuc3RyZXRjaC9zaHJpbmsgLS0-IHxmbG9hdGluZyBidXR0b24gY2FuY2VsfCBzZWxlY3RlZFxuc2VsZWN0ZWQgLS0-IHxsb25nIHByZXNzIG9ufCBtb3ZlXG5tb3ZlIC0tPiB8ZmxvYXRpbmcgYnV0dG9uIGNhbmNlbHwgc2VsZWN0ZWRcbm1vdmUgLS0-IHx0YXAgYWJvdmV8IHVwe3VwfVxubW92ZSAtLT4gfHRhcCBiZWxvd3wgZG93bntkb3dufVxuXG4iLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCJ9fQ~
graph LR
edit{edit} --> |nav| view
view --> |long press on| edit
add{add} --> |nav| view
view --> |long press around| add
view --> |tap on| selected
selected --> |long press around| stretch/shrink
stretch/shrink --> |tap below| back-forward{stop forward}
stretch/shrink --> |tap in bottom half| stop-back{stop back}
stretch/shrink --> |tap in top half| start-forward{start forward}
stretch/shrink --> |tap above| start-back{start back}
stretch/shrink --> |floating button cancel| selected
selected --> |long press on| move
move --> |floating button cancel| selected
move --> |tap above| up{up}
move --> |tap below| down{down}
#+end_src

* DOSUB Predicting
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-06-17 Mon 17:57
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DOSUB
  :END:
** TODO look into markov chains

* DOSUB Technical debt
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-06-17 Mon 17:57
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DOSUB
  :END:
** TODO Fix production builds

Solution right now is not to use on ~shadow-cljs watch app~ to compile code not ~shadow-cljs release app~.
There were rumblings about suing a metro patch to fix the error that occurs with release.
Also consider using ~:infer-externs :auto~ in shadow build configuration.

**** Patch

#+begin_src diff
--- worker.js    2018-11-21 14:46:01.271844624 -0700
+++ worker.js    2018-11-21 14:45:52.517615272 -0700
@@ -218,7 +218,7 @@
     }
 
     if (!options.transformOptions.dev) {
-      plugins.push([constantFoldingPlugin, opts]);
+      // plugins.push([constantFoldingPlugin, opts]);
       plugins.push([inlinePlugin, opts]);
     }var _transformFromAstSync =
#+end_src

** TODO Migrations of app-db
** TODO Move all modal visibility to app-state
** TODO Refactor specter selections and transformations into functions

Don't want all those path's defined over and over again.

** TODO Use cofx to insert uuid instead of putting (random-uuid) on dispatches
** TODO Fully namespaced keywords
This is needed for serious refactoring
** TODO Unit tests
- handlers
- subscriptions
- helper functions
** TODO Spec'd functions
Opens up for better dev experience and generative testing

* DONE Add version identifier
  CLOSED: [2019-06-28 Fri 19:26]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-06-29 Sat 18:06
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-06-28 Fri 19:17]--[2019-06-28 Fri 19:26] =>  0:09
  :END:

* DONE Fix secure store size limit issue
  CLOSED: [2019-06-28 Fri 19:16]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-06-29 Sat 18:06
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  :END:
** DONE Try to import the library and read/write 
   CLOSED: [2019-06-28 Fri 18:53]
    :LOGBOOK:
    CLOCK: [2019-06-28 Fri 17:42]--[2019-06-28 Fri 18:53] =>  1:11
    CLOCK: [2019-06-25 Tue 19:02]--[2019-06-25 Tue 20:16] =>  1:14
    :END:
https://clojurians.slack.com/archives/C0E1SN0NM/p1561508036233600
** DONE Change secure store to file
   CLOSED: [2019-06-28 Fri 19:07]
   :LOGBOOK:
   CLOCK: [2019-06-28 Fri 18:53]--[2019-06-28 Fri 19:07] =>  0:14
   :END:

* DONE Import
  CLOSED: [2019-06-29 Sat 01:23]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-06-29 Sat 18:06
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-06-29 Sat 01:10]--[2019-06-29 Sat 01:23] =>  0:13
  CLOCK: [2019-06-29 Sat 00:08]--[2019-06-29 Sat 00:18] =>  0:10
  CLOCK: [2019-06-28 Fri 22:49]--[2019-06-28 Fri 23:17] =>  0:28
  :END:

* DONE Navigation
  CLOSED: [2019-06-29 Sat 18:04]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-06-29 Sat 18:06
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
** DONE Refactor dispatching in navigation handler
   CLOSED: [2019-06-29 Sat 14:37]
     :LOGBOOK:
     CLOCK: [2019-06-29 Sat 13:48]--[2019-06-29 Sat 14:36] =>  0:48
     :END:
Also rename the export of app-db
** DONE History
   CLOSED: [2019-06-29 Sat 15:10]
   :LOGBOOK:
   CLOCK: [2019-06-29 Sat 14:38]--[2019-06-29 Sat 15:10] =>  0:32
   :END:
** DONE Back button
   CLOSED: [2019-06-29 Sat 18:04]
   :LOGBOOK:
   CLOCK: [2019-06-29 Sat 17:41]--[2019-06-29 Sat 18:04] =>  0:23
   :END:

* DONE Move transform buttons to float around selection
  CLOSED: [2019-06-29 Sat 18:07]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-07-02 Tue 20:22
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers/Day UX refactor
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
     :LOGBOOK:
     CLOCK: [2019-06-20 Thu 18:32]--[2019-06-20 Thu 19:46] =>  1:14
     CLOCK: [2019-06-19 Wed 19:03]--[2019-06-19 Wed 19:21] =>  0:18
     CLOCK: [2019-06-19 Wed 18:49]--[2019-06-19 Wed 18:58] =>  0:09
     CLOCK: [2019-06-19 Wed 18:36]--[2019-06-19 Wed 18:46] =>  0:10
     CLOCK: [2019-06-19 Wed 18:04]--[2019-06-19 Wed 18:32] =>  0:28
     CLOCK: [2019-06-18 Tue 18:32]--[2019-06-18 Tue 19:33] =>  1:01
     CLOCK: [2019-06-17 Mon 18:34]--[2019-06-17 Mon 18:48] =>  0:14
     CLOCK: [2019-06-17 Mon 18:17]--[2019-06-17 Mon 18:33] =>  0:16
     :END:
- [X] Strip down render-periods fn
- [X] Get a button to show /around/
- [X] Stub out six main buttons
- [X] Change height to fill unused space
- [X] Enable selection again
- [X] Turn button stubs into touchable buttons
- [X] Assign on press functionality
- [X] Remove buttons from selection menu and publish
- [X] Keep transform buttons and default width instead of scaling with stacked periods

* DONE Add react-native-paper dep
  CLOSED: [2019-06-30 Sun 15:59]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-07-02 Tue 20:22
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers/Day UX refactor
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-06-30 Sun 15:51]--[2019-06-30 Sun 15:59] =>  0:08
  :END:

* DONE Fix ordering problem
  CLOSED: [2019-06-30 Sun 18:31]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-07-02 Tue 20:22
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers/Day UX refactor
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-06-30 Sun 18:05]--[2019-06-30 Sun 18:31] =>  0:26
  CLOCK: [2019-06-30 Sun 16:08]--[2019-06-30 Sun 16:40] =>  0:32
  :END:

* DONE Fix moving selected period problem from ordering fix
  CLOSED: [2019-07-02 Tue 21:24]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-07-13 Sat 18:38
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-07-02 Tue 20:23]--[2019-07-02 Tue 21:23] =>  1:00
  :END:

* DONE Fix navigation
  CLOSED: [2019-07-13 Sat 18:41]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-07-13 Sat 18:41
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
    :LOGBOOK:
    CLOCK: [2019-07-08 Mon 13:16]--[2019-07-08 Mon 14:01] =>  0:45
    :END:
I think I just made a mess

* DONE Add theme to provider
  CLOSED: [2019-07-07 Sun 11:00]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-07-13 Sat 18:42
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers/UX refactor
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-07-07 Sun 10:34]--[2019-07-07 Sun 11:00] =>  0:26
  :END:

* CANCELED Work from root and replace with paper components
  CLOSED: [2019-07-07 Sun 12:53]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-07-13 Sat 18:42
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers/UX refactor
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:
  :LOGBOOK:
  CLOCK: [2019-07-07 Sun 12:52]--[2019-07-07 Sun 12:52] =>  0:00
  CLOCK: [2019-07-07 Sun 11:01]--[2019-07-07 Sun 12:00] =>  0:59
  :END:

* DONE Fix transform buttons to work for templates on pattern planning
  CLOSED: [2019-07-07 Sun 18:43]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-07-13 Sat 18:42
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers/UX refactor
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
      :LOGBOOK:
      CLOCK: [2019-07-07 Sun 17:58]--[2019-07-07 Sun 18:43] =>  0:45
      CLOCK: [2019-07-07 Sun 12:52]--[2019-07-07 Sun 13:41] =>  0:49
      :END:
- [X] Add transform buttons to pattern planning

* DONE Fix the forms
  CLOSED: [2019-07-20 Sat 17:11]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-07-20 Sat 22:11
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers/UX refactor
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-07-03 Wed 00:12]--[2019-07-03 Wed 00:20] =>  0:08
  CLOCK: [2019-07-02 Tue 23:12]--[2019-07-02 Tue 23:23] =>  0:11
  CLOCK: [2019-06-30 Sun 16:03]--[2019-06-30 Sun 16:08] =>  0:05
  CLOCK: [2019-06-30 Sun 15:50]--[2019-06-30 Sun 15:51] =>  0:01
  :END:
** DONE Overhaul period form with react-native-paper elements
   CLOSED: [2019-07-13 Sat 22:51]
   :LOGBOOK:
   CLOCK: [2019-07-13 Sat 22:03]--[2019-07-13 Sat 22:51] =>  0:48
   CLOCK: [2019-07-13 Sat 20:47]--[2019-07-13 Sat 22:02] =>  1:15
   CLOCK: [2019-07-13 Sat 18:46]--[2019-07-13 Sat 19:57] =>  1:11
   CLOCK: [2019-07-12 Fri 18:40]--[2019-07-12 Fri 18:42] =>  0:02
   CLOCK: [2019-07-12 Fri 08:08]--[2019-07-12 Fri 08:26] =>  0:18
   CLOCK: [2019-07-08 Mon 18:15]--[2019-07-08 Mon 18:36] =>  0:21
   :END:
** DONE Move period form to day selection menu
   CLOSED: [2019-07-14 Sun 12:36]
   :LOGBOOK:
   CLOCK: [2019-07-14 Sun 11:42]--[2019-07-14 Sun 12:36] =>  0:54
   :END:

** DONE Add utility buttons to period selection menu
   CLOSED: [2019-07-14 Sun 14:30]
      :LOGBOOK:
      CLOCK: [2019-07-14 Sun 14:31]--[2019-07-14 Sun 14:38] =>  0:07
      CLOCK: [2019-07-14 Sun 13:31]--[2019-07-14 Sun 14:30] =>  0:59
      :END:
- Copy (<- 0 ->)
- Select prev/next
- Stop
** DONE Overhaul template form with react-native-paper elements
   CLOSED: [2019-07-19 Fri 09:09]
      :LOGBOOK:
      CLOCK: [2019-07-19 Fri 07:36]--[2019-07-19 Fri 09:09] =>  1:33
      CLOCK: [2019-07-18 Thu 11:09]--[2019-07-18 Thu 11:15] =>  0:06
      CLOCK: [2019-07-17 Wed 18:54]--[2019-07-17 Wed 19:36] =>  0:42
      :END:
- [X] Update the pattern parent picker component
- [X] Fix the bucket picker color not updating on new selection
- [X] Fix the width of the bucket picker
- [X] Update the relative time components
** DONE Move template form to pattern planning selection menu
   CLOSED: [2019-07-19 Fri 19:34]
** DONE Add utility buttons to template selection menu
   CLOSED: [2019-07-19 Fri 19:35]
- +Copy (<- 0 ->)+
- Select prev/next
** DONE Overhaul other forms with react-native-paper elements
   CLOSED: [2019-07-20 Sat 14:52]
      :LOGBOOK:
      CLOCK: [2019-07-20 Sat 14:38]--[2019-07-20 Sat 14:51] =>  0:13
      CLOCK: [2019-07-19 Fri 19:36]--[2019-07-19 Fri 20:33] =>  0:57
      :END:
- [X] Bucket
- [X] Filter
** DONE Close button size
   CLOSED: [2019-07-20 Sat 14:55]
   :LOGBOOK:
   CLOCK: [2019-07-20 Sat 14:53]--[2019-07-20 Sat 14:55] =>  0:02
   :END:
** DONE Fix clickability under menu
   CLOSED: [2019-07-20 Sat 15:05]
      :LOGBOOK:
      CLOCK: [2019-07-20 Sat 15:01]--[2019-07-20 Sat 15:05] =>  0:04
      CLOCK: [2019-07-20 Sat 14:55]--[2019-07-20 Sat 15:01] =>  0:06
      :END:
Also update quick add period.
** DONE Add duration field to forms
   CLOSED: [2019-07-20 Sat 17:11]
   :LOGBOOK:
   CLOCK: [2019-07-20 Sat 17:00]--[2019-07-20 Sat 17:11] =>  0:11
   CLOCK: [2019-07-20 Sat 15:32]--[2019-07-20 Sat 16:00] =>  0:28
   :END:

* DONE Fix day nav buttons
  CLOSED: [2019-07-14 Sun 14:48]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-07-20 Sat 22:11
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers/UX refactor
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-07-14 Sun 14:43]--[2019-07-14 Sun 14:48] =>  0:05
  :END:

* DONE Edit FAB
  CLOSED: [2019-07-20 Sat 22:00]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-07-20 Sat 22:11
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers/UX refactor
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
** DONE Add play indication
   CLOSED: [2019-07-20 Sat 17:46]
      :LOGBOOK:
      CLOCK: [2019-07-20 Sat 17:13]--[2019-07-20 Sat 17:46] =>  0:33
      :END:
- Option 1
  - FAB elevated
  - FAB plus the color of the in play item
  - Animation?
- Option 2
  - Remove "+" FAB
  - Add White FAB with a "stop" icon the color of the in play period
 
Went with just changing the color...
** CANCELED Change FAB buttons
   CLOSED: [2019-07-20 Sat 17:47]
- Play (menu with most recently planned, or list of buckets/templates)
- Apply pattern
- Make pattern from day (select planned or actual)
- Stop? (depends on play indication option)
** DONE Make pattern from day
   CLOSED: [2019-07-20 Sat 22:00]
   :LOGBOOK:
   CLOCK: [2019-07-20 Sat 17:51]--[2019-07-20 Sat 18:55] =>  1:04
   :END:
** DONE Hide FAB on selection
   CLOSED: [2019-07-14 Sun 15:57]
      :LOGBOOK:
      CLOCK: [2019-07-14 Sun 15:40]--[2019-07-14 Sun 15:57] =>  0:17
      :END:
Also fixed control buttons on day selection screen.
Now they don't disappear, instead they /disable/.
Also fixed the transform buttons on day view.
Now they are set to the correct /absolute left/ value when planned.


* DONE Fix start earlier button 
  CLOSED: [2019-07-14 Sun 18:06]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-07-20 Sat 22:11
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-07-14 Sun 18:00]--[2019-07-14 Sun 18:06] =>  0:06
  :END:

* DONE Fix pattern planning
  CLOSED: [2019-07-17 Wed 18:45]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-07-20 Sat 22:11
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
    :LOGBOOK:
    CLOCK: [2019-07-15 Mon 07:44]--[2019-07-15 Mon 08:53] =>  1:09
    CLOCK: [2019-07-14 Sun 19:07]--[2019-07-14 Sun 19:52] =>  0:45
    :END:
- [X] Add compact pattern form
- [X] Fix loading empty template on opening pattern planning (no selection)
- [X] Fix closing to deselect template
- [X] Add event to failed validation
- [X] Change ~update-pattern-form~ to load compact template
- [X] Change ~select-template~ to load compact form from pattern planning
- [X] Move xor to helpers
- [X] Fix selected rendering on pattern planning
- [X] Add functional buttons to selection menu
- [X] Fix save pattern form button on pattern planning
** DONE Fix saving
   CLOSED: [2019-07-17 Wed 18:45]
     :LOGBOOK:
     CLOCK: [2019-07-17 Wed 18:03]--[2019-07-17 Wed 18:45] =>  0:42
     CLOCK: [2019-07-17 Wed 17:59]--[2019-07-17 Wed 18:00] =>  0:01
     CLOCK: [2019-07-16 Tue 21:06]--[2019-07-16 Tue 21:18] =>  0:12
     CLOCK: [2019-07-16 Tue 20:55]--[2019-07-16 Tue 21:04] =>  0:09
     CLOCK: [2019-07-16 Tue 20:45]--[2019-07-16 Tue 20:49] =>  0:04
     CLOCK: [2019-07-16 Tue 20:25]--[2019-07-16 Tue 20:32] =>  0:07
     CLOCK: [2019-07-16 Tue 19:25]--[2019-07-16 Tue 19:56] =>  0:31
     :END:
Also did a minor fix to get rid of an error message loading the app-db on a cold start.
*** Original idea
  - Disable save buttons on compact form
  - Changes to compact form update the pattern form directly
  - Save button on the pattern form saves changes
  - Compact form should still indicate changes
*** New thoughts
Updating the compact template form on day planning should automatically update the pattern form.
The flow right now is update the compact form which when saved updates the pattern form.
There needs to be no interaction with the template form. Just use of it's components. The source is the pattern form and the selected template from it.

* DONE Fix deleting in play item bug
  CLOSED: [2019-07-25 Thu 19:36]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-07-25 Thu 19:49
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-07-25 Thu 19:09]--[2019-07-25 Thu 19:36] =>  0:27
  :END:

* DONE Update README
  CLOSED: [2019-07-27 Sat 16:43]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-07-27 Sat 17:00
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
    :LOGBOOK:
    CLOCK: [2019-07-27 Sat 16:03]--[2019-07-27 Sat 16:43] =>  0:40
    :END:
- Include deactivating live/hot reload
- Remove --dev from expo start
- Fix typo in bottom

* DONE Refactor pattern form 
  CLOSED: [2019-07-20 Sat 22:50]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-07-27 Sat 17:00
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers/UX refactor
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
     :LOGBOOK:
     CLOCK: [2019-07-20 Sat 22:14]--[2019-07-20 Sat 22:50] =>  0:36
     :END:
- [X] Pattern form
- [X] Pattern planning bottom buttons

* DONE Fix new pattern editing spec failure
  CLOSED: [2019-07-28 Sun 21:50]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-07-28 Sun 22:26
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-07-28 Sun 21:45]--[2019-07-28 Sun 21:50] =>  0:05
  :END:


* DONE Fix bug on select next/prev bug on pattern planning
  CLOSED: [2019-08-04 Sun 15:18]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-08-04 Sun 17:57
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
    :LOGBOOK:
    CLOCK: [2019-08-04 Sun 13:51]--[2019-08-04 Sun 15:18] =>  1:27
    :END:
Can't select anything that hasn't been saved.
- [X] Swapped the source of truth for the operation to the form instead of the actual pattern
- [X] Switched the selection to a dispatch event instead of editing app-db
- [X] Figured out that there was an orphaned template from the deletion of a bucket in the app-db
- [X] Fixed deleting a bucket to remove templates from patterns as well
- [X] Fixed side effect load on screen to use correct handler
- [X] Also needed to export and import my actual db to fix that orphaned template

* CANCELED Add spec definitions to everything
  CLOSED: [2019-08-04 Sun 18:05]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-08-04 Sun 18:05
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Make it better
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:
    :LOGBOOK:
    CLOCK: [2019-08-04 Sun 17:58]--[2019-08-04 Sun 18:05] =>  0:07
    CLOCK: [2019-08-03 Sat 23:10]--[2019-08-03 Sat 23:26] =>  0:16
    CLOCK: [2019-08-03 Sat 21:12]--[2019-08-03 Sat 22:02] =>  0:50
    CLOCK: [2019-08-03 Sat 17:52]--[2019-08-03 Sat 18:22] =>  0:30
    CLOCK: [2019-08-03 Sat 16:49]--[2019-08-03 Sat 17:46] =>  0:00
    :END:
- [X] Add ghostwheel
  - Inline is nice
  - It might play well with shadow-cljs
  - Requires remote debugging to be able to see any readable output (needs chrome debug console)
  - Needs live reload to run (which breaks shadow react native repl)
- [X] Attempt to use straight up spec
  - [X] Maybe this isn't worth it?

* CANCELED UX refactor
  CLOSED: [2019-08-10 Sat 12:58]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-08-10 Sat 12:58
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:
** CANCELED UX clenaup by screen
   CLOSED: [2019-08-10 Sat 12:58]
*** CANCELED Day
    CLOSED: [2019-08-10 Sat 12:58]
      :LOGBOOK:
      CLOCK: [2019-08-04 Sun 18:30]--[2019-08-04 Sun 18:50] =>  0:20
      CLOCK: [2019-08-04 Sun 18:25]--[2019-08-04 Sun 18:34] =>  0:09
      CLOCK: [2019-08-04 Sun 18:07]--[2019-08-04 Sun 18:24] =>  0:17
      CLOCK: [2019-07-21 Sun 15:45]--[2019-07-21 Sun 15:59] =>  0:14
      CLOCK: [2019-07-21 Sun 15:15]--[2019-07-21 Sun 15:26] =>  0:11
      CLOCK: [2019-07-20 Sat 22:51]--[2019-07-20 Sat 22:52] =>  0:01
      :END:
- [X] Remove templates from play selector
- [X] Fix button size in selection menu (real device)
- [ ] Restyle play selector
- [X] Now indicator uses primary color
- [X] Now indicator renders over selected period
- [ ] Time indicators use a color from theme
- [ ] Another level of time indicators (thinner or dashed lines)
- [X] Add labels to periods
- [X] Shrink selection menu to show either side of planned and actual
*** CANCELED Remove form indirection from editing periods
    CLOSED: [2019-08-10 Sat 12:58]
*** CANCELED Buckets/Patterns/Templates/Periods
    CLOSED: [2019-08-10 Sat 12:58]
- [ ] Filter component
- [ ] Remove header
- [ ] Item render component
  - [ ] Bucket
  - [ ] Pattern
  - [ ] Template
  - [ ] Periods
- [ ] FAB for add
*** CANCELED Port
    CLOSED: [2019-08-10 Sat 12:58]
- [ ] Better option components

* CANCELED Add insert before/after button to selection menu
  CLOSED: [2019-08-10 Sat 12:59]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-08-10 Sat 12:59
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

* CANCELED Add quick add to list pages
  CLOSED: [2019-08-10 Sat 12:59]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-08-10 Sat 12:59
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:
Should be able to add something and set the label of it quickly in one screen.
Either add an input line or put the form in a modal and saving brings the user back to the list page.

* CANCELED Fix Jump to selected so that it also changes displayed day
  CLOSED: [2019-08-10 Sat 12:59]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-08-10 Sat 12:59
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

* CANCELED Spec change migrations
  CLOSED: [2019-08-10 Sat 13:04]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-08-10 Sat 13:05
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:
- [ ] Add an incremental version to app-db
- [ ] Create an example up/down transformation function (checklist)
- [ ] Figure out how to run through transformation function on app-db load/import

Canceled because the app-db should only accrete out of alpha.

* DONE Prediction
  CLOSED: [2019-08-12 Mon 18:08]
  :PROPERTIES:
  :Effort:   1:00
  :Confidence: 75
  :ARCHIVE_TIME: 2019-08-12 Mon 18:08
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
    :LOGBOOK:
    CLOCK: [2019-08-11 Sun 21:35]--[2019-08-11 Sun 21:35] =>  0:00
    CLOCK: [2019-08-11 Sun 20:19]--[2019-08-11 Sun 21:35] =>  1:16
    CLOCK: [2019-08-11 Sun 19:34]--[2019-08-11 Sun 20:18] =>  0:44
    CLOCK: [2019-08-11 Sun 19:26]--[2019-08-11 Sun 19:30] =>  0:04
    CLOCK: [2019-08-11 Sun 19:23]--[2019-08-11 Sun 19:25] =>  0:02
    CLOCK: [2019-08-11 Sun 19:17]--[2019-08-11 Sun 19:22] =>  0:05
    :END:
- [X] Add hour estimation + confidence rating
- [-] Write shadow-cljs node program to parse the file and give an estimation with confidence interval
  - [X] Use this https://xiaoxinghu.github.io/orgajs/docs/basics-usages
  - [X] Create project in playground
  - [X] Get a repl up
    - Needed to install some node deps for repl (ws and source maps)
    - Then just run the output script
  - [ ] Figure out how to parse some org content
    - Orga doesn't seem to return the AST (maybe its a repl issue?)
- [X] Use org columns for overview 
  - [X] Set up basic columns
  - [X] Look into custom org-columns-summary-types for confidence range
- [X] Set up clock report
  - [X] Use grep and vim replace to get weekly totals into a spreadsheet to get average
    - Average was 5.5 hours/week

* DONE Onboard Josh
  CLOSED: [2019-09-07 Sat 17:58]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-09-29 Sun 16:28
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
   :LOGBOOK:
   CLOCK: [2019-09-07 Sat 17:15]--[2019-09-07 Sat 17:58] =>  0:43
   :END:

* CANCELED Fix drawer bug
  CLOSED: [2019-09-10 Tue 19:16]
  :PROPERTIES:
  :Effort:   3:00
  :Confidence: 80
  :ARCHIVE_TIME: 2019-09-29 Sun 16:28
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:
When a contained button or surface element is used on the screen component it doesn't /go under/ the drawer overlay
Also might need to replace drawer with another component library to support non swipe opening for a11y.

* DONE New day design
  CLOSED: [2019-09-29 Sun 16:36]
  :PROPERTIES:
  :Effort:   24:00
  :Confidence: 50
  :ARCHIVE_TIME: 2019-09-29 Sun 16:36
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-09-10 Tue 19:15]--[2019-09-10 Tue 19:17] =>  0:02
  CLOCK: [2019-08-10 Sat 19:29]--[2019-08-10 Sat 19:36] =>  0:07
  CLOCK: [2019-08-10 Sat 13:11]--[2019-08-10 Sat 13:12] =>  0:01
  :END:
** DONE Top bar with scroll view below
   CLOSED: [2019-08-10 Sat 14:47]
     :LOGBOOK:
     CLOCK: [2019-08-10 Sat 14:39]--[2019-08-10 Sat 14:47] =>  0:08
     CLOCK: [2019-08-10 Sat 13:37]--[2019-08-10 Sat 13:54] =>  0:17
     CLOCK: [2019-08-10 Sat 13:28]--[2019-08-10 Sat 13:36] =>  0:08
     CLOCK: [2019-08-10 Sat 13:24]--[2019-08-10 Sat 13:28] =>  0:04
     CLOCK: [2019-08-10 Sat 13:15]--[2019-08-10 Sat 13:24] =>  0:09
     CLOCK: [2019-08-10 Sat 13:12]--[2019-08-10 Sat 13:14] =>  0:02
     :END:
- [X] Get to a clean commit
- [X] Blow away everything in day-screen ns and the day-comp ns
- [X] Set up a day-comp ns with a placeholder
- [X] Get code to compile and show placeholder for pattern-planning and day screens
- [X] Change day screen ns
- [X] Add a top bar section
- [X] Add a scroll view below it
** DONE Add time section
   CLOSED: [2019-08-10 Sat 16:56]
     :LOGBOOK:
     CLOCK: [2019-08-10 Sat 16:45]--[2019-08-10 Sat 16:56] =>  0:11
     CLOCK: [2019-08-10 Sat 14:39]--[2019-08-10 Sat 15:40] =>  1:01
     :END:
- [X] Get relative positioning figured out
- [X] Add dividers
- [X] Figure out how it relates to periods
** DONE Add Zomming functionality
   CLOSED: [2019-08-10 Sat 19:27]
     :LOGBOOK:
     CLOCK: [2019-08-10 Sat 18:21]--[2019-08-10 Sat 19:27] =>  1:06
     :END:
- [X] Put pixel ration in app-db
- [X] Make handlers/subs to adjust
- [X] Use deep merge on loading and importing db to handle app-db accretion
** DONE Add periods/templates (elements)
   CLOSED: [2019-08-13 Tue 19:42]
    :LOGBOOK:
    CLOCK: [2019-08-13 Tue 18:14]--[2019-08-13 Tue 18:45] =>  0:31
    CLOCK: [2019-08-12 Mon 18:13]--[2019-08-12 Mon 18:54] =>  0:41
    CLOCK: [2019-08-12 Mon 18:08]--[2019-08-12 Mon 18:13] =>  0:05
    CLOCK: [2019-08-11 Sun 18:07]--[2019-08-11 Sun 18:25] =>  0:18
    CLOCK: [2019-08-11 Sun 17:47]--[2019-08-11 Sun 18:07] =>  0:20
    CLOCK: [2019-08-11 Sun 14:41]--[2019-08-11 Sun 15:47] =>  1:06
    CLOCK: [2019-08-11 Sun 14:40]--[2019-08-11 Sun 14:40] =>  0:00
    CLOCK: [2019-08-11 Sun 13:16]--[2019-08-11 Sun 13:43] =>  0:27
    CLOCK: [2019-08-10 Sat 23:43]--[2019-08-10 Sat 23:50] =>  0:07
    CLOCK: [2019-08-10 Sat 23:12]--[2019-08-10 Sat 23:29] =>  0:17
    CLOCK: [2019-08-10 Sat 22:19]--[2019-08-10 Sat 23:09] =>  0:50
    CLOCK: [2019-08-10 Sat 22:09]--[2019-08-10 Sat 22:19] =>  0:10
    CLOCK: [2019-08-10 Sat 21:56]--[2019-08-10 Sat 22:08] =>  0:12
    CLOCK: [2019-08-10 Sat 20:58]--[2019-08-10 Sat 21:36] =>  0:38
    CLOCK: [2019-08-10 Sat 20:33]--[2019-08-10 Sat 20:57] =>  0:24
    :END:
- [X] Refactor the day comp
- [X] Move tim indicators
- [X] Add reference from old rendering
- [X] Make the time indicator bar position (center of text) the exact time of the indicator
- [X] Actually fix teh time indicator
- [X] Add elements comp and borders
- [X] Render some elements in the correct position
- [X] Add navigators to day top bar
- [X] Refactor rendering element
- [X] Fix borders
- [X] Render collision group offsets
- [X] Selection
 
** DONE Dragging element to move on selection
   CLOSED: [2019-09-04 Wed 15:10]
     :LOGBOOK:
     CLOCK: [2019-09-04 Wed 14:33]--[2019-09-04 Wed 14:33] =>  0:00
     CLOCK: [2019-09-04 Wed 14:32]--[2019-09-04 Wed 14:32] =>  0:00
     CLOCK: [2019-09-04 Wed 13:48]--[2019-09-04 Wed 14:32] =>  0:44
     CLOCK: [2019-09-04 Wed 13:38]--[2019-09-04 Wed 13:45] =>  0:07
     CLOCK: [2019-09-03 Tue 22:54]--[2019-09-03 Tue 23:25] =>  0:31
     CLOCK: [2019-09-03 Tue 22:09]--[2019-09-03 Tue 22:54] =>  0:45
     CLOCK: [2019-09-03 Tue 21:40]--[2019-09-03 Tue 22:01] =>  0:21
     CLOCK: [2019-09-03 Tue 21:26]--[2019-09-03 Tue 21:38] =>  0:12
     CLOCK: [2019-09-03 Tue 21:17]--[2019-09-03 Tue 21:26] =>  0:09
     CLOCK: [2019-09-03 Tue 16:52]--[2019-09-03 Tue 17:10] =>  0:18
     CLOCK: [2019-09-03 Tue 16:34]--[2019-09-03 Tue 16:51] =>  0:17
     CLOCK: [2019-09-03 Tue 15:50]--[2019-09-03 Tue 16:34] =>  0:44
     CLOCK: [2019-09-03 Tue 15:28]--[2019-09-03 Tue 15:31] =>  0:03
     CLOCK: [2019-09-02 Mon 17:13]--[2019-09-02 Mon 18:00] =>  0:47
     CLOCK: [2019-09-02 Mon 17:06]--[2019-09-02 Mon 17:13] =>  0:07
     CLOCK: [2019-09-01 Sun 16:45]--[2019-09-01 Sun 16:58] =>  0:13
     CLOCK: [2019-08-30 Fri 16:12]--[2019-08-30 Fri 16:12] =>  0:00
     CLOCK: [2019-08-30 Fri 16:01]--[2019-08-30 Fri 16:11] =>  0:10
     CLOCK: [2019-08-30 Fri 15:49]--[2019-08-30 Fri 15:58] =>  0:09
     CLOCK: [2019-08-30 Fri 14:50]--[2019-08-30 Fri 15:38] =>  0:48
     CLOCK: [2019-08-25 Sun 16:32]--[2019-08-25 Sun 17:11] =>  0:39
     CLOCK: [2019-08-25 Sun 16:26]--[2019-08-25 Sun 16:32] =>  0:06
     CLOCK: [2019-08-25 Sun 16:25]--[2019-08-25 Sun 16:25] =>  0:00
     CLOCK: [2019-08-25 Sun 15:50]--[2019-08-25 Sun 16:24] =>  0:34
     CLOCK: [2019-08-25 Sun 12:13]--[2019-08-25 Sun 12:13] =>  0:00
     CLOCK: [2019-08-25 Sun 12:05]--[2019-08-25 Sun 12:13] =>  0:08
     CLOCK: [2019-08-24 Sat 18:21]--[2019-08-24 Sat 18:24] =>  0:03
     CLOCK: [2019-08-24 Sat 18:05]--[2019-08-24 Sat 18:09] =>  0:04
     CLOCK: [2019-08-24 Sat 17:54]--[2019-08-24 Sat 17:59] =>  0:05
     CLOCK: [2019-08-24 Sat 17:29]--[2019-08-24 Sat 17:53] =>  0:24
     CLOCK: [2019-08-24 Sat 16:26]--[2019-08-24 Sat 16:31] =>  0:05
     CLOCK: [2019-08-24 Sat 14:00]--[2019-08-24 Sat 14:29] =>  0:29
     CLOCK: [2019-08-24 Sat 13:43]--[2019-08-24 Sat 14:00] =>  0:17
     CLOCK: [2019-08-24 Sat 13:18]--[2019-08-24 Sat 13:43] =>  0:25
     CLOCK: [2019-08-20 Tue 19:13]--[2019-08-20 Tue 19:16] =>  0:03
     CLOCK: [2019-08-18 Sun 19:10]--[2019-08-18 Sun 19:20] =>  0:10
     CLOCK: [2019-08-18 Sun 12:45]--[2019-08-18 Sun 13:11] =>  0:26
     CLOCK: [2019-08-18 Sun 12:17]--[2019-08-18 Sun 12:38] =>  0:21
     CLOCK: [2019-08-17 Sat 20:52]--[2019-08-17 Sat 22:08] =>  1:16
     CLOCK: [2019-08-17 Sat 15:27]--[2019-08-17 Sat 16:25] =>  0:58
     CLOCK: [2019-08-17 Sat 14:53]--[2019-08-17 Sat 15:00] =>  0:07
     CLOCK: [2019-08-17 Sat 14:06]--[2019-08-17 Sat 14:40] =>  0:34
     CLOCK: [2019-08-17 Sat 13:49]--[2019-08-17 Sat 13:59] =>  0:10
     CLOCK: [2019-08-17 Sat 11:20]--[2019-08-17 Sat 11:52] =>  0:32
     CLOCK: [2019-08-17 Sat 10:43]--[2019-08-17 Sat 10:43] =>  0:00
     CLOCK: [2019-08-17 Sat 10:42]--[2019-08-17 Sat 10:43] =>  0:01
     CLOCK: [2019-08-17 Sat 09:28]--[2019-08-17 Sat 09:52] =>  0:24
     CLOCK: [2019-08-17 Sat 09:09]--[2019-08-17 Sat 09:28] =>  0:19
     CLOCK: [2019-08-16 Fri 18:11]--[2019-08-16 Fri 19:23] =>  1:12
     CLOCK: [2019-08-14 Wed 18:15]--[2019-08-14 Wed 19:29] =>  1:14
     CLOCK: [2019-08-13 Tue 19:41]--[2019-08-13 Tue 19:41] =>  0:00
     CLOCK: [2019-08-13 Tue 19:10]--[2019-08-13 Tue 19:41] =>  0:31
     :END:
-[X] Read about gesture handlers
- https://docs.expo.io/versions/latest/sdk/gesture-handler/
- https://kmagiera.github.io/react-native-gesture-handler/docs/about-handlers.html
- [X] Add a pan gesture handler to something
- [X] Play with nested handlers and waitfor
- [X] Update app to remove scroll-view-gesture comp warnings
  - [X] Update to sdk 33
  - [X] Update shadow-cljs
    - Apparently only the devDependencies in package.json matters?
  - [X] Resolve warnings
    - File system warning doesn't make sense ...
    - [X] Remove keep awake usage
      - https://github.com/thheller/shadow-cljs/issues/513
      - Might add it back later if it is an issue https://docs.expo.io/versions/latest/sdk/keep-awake/
  - [X] Update to sdk 34
- [X] Figure out smooth pan movement
  - https://gist.github.com/scottdw/2960070#file-stats-clj-L5
  - https://stackoverflow.com/a/3761318/5040125
  - https://github.com/kmagiera/react-native-gesture-handler/issues/621#issuecomment-522272948
  - After graphing it out it seems like the values jump by 100 for a handful of events then jump back
  - +Need to use absoluteY but it seems to behave like a relative thing when I scroll+
  - Solution is to wrap scroll in pan and use selected as a toggle (lock/mutex)
    - Now ~nativeEvent.y~ can be used and it works for the entire screen or day view (hopefully).
    - Can be resumed after pan ends
- [X] Figure out gesture handler experience
  - Be able to scroll
  - When holding an element enter a state to drag it around updating start/stop on release
    - Needs a ~pan~ on the day view that is simultaneous with a ~long press~ on each element
    - When ~long press~ is active set the selection state
    - When selection state is active then the ~pan~ is enabled it updates the form
    - When ~long press~ is released the pan is disabled and the form is saved
  - ~Tap~ an element opens form in bottom sheet
    - Needs to wrap the ~long press~ and wait for it
    - ~Tap~ should not activate if the long press activates then ends
- [-] Implement gesture handler experience on calendar page
  - [X] (scroll) Add scroll view that locks out on selection and waits for pinch
  - [X] (drag) Add pan gesture handler that locks out on no selection and waits for pinch
    - [X] Fix top being at finger
  - [X] (zoom) Add pinch gesture
  - [X] (bottom sheet pop up selection) Add tap handler that wraps element and waits on long press
  - [X] (movement selection) Add long press wrapping element directly
  - [-] Use simultaneous prop for long press and pan
    - Having a hard time achieving this
    - https://github.com/kmagiera/react-native-gesture-handler/issues/434
  - [X] Use rect button
  - [X] Replace long press with double tap for movement selection
- [X] Implement handlers on day page
  - [X] Add top level todo items
  - [X] Refactor selections
    - [X] App-db
      - [X] Reformat ns
    - [X] Handlers
    - [X] Subscriptions
  - [X] Scroll
  - [X] Pan
  - [X] Pinch
  - [X] Rect-button
  - [X] Double-tap
  - [X] Figure out how to get lock out scroll view and pan handler
  - [X] Figure out why movement changes duration randomly
    - It was just /in play/
  - [X] Make selection indicator look better
  - [X] Remove println
  - [X] Fix document picker
** DONE Optimize performance
   CLOSED: [2019-09-15 Sun 11:28]
   :LOGBOOK:
   CLOCK: [2019-09-04 Wed 16:13]--[2019-09-04 Wed 16:15] =>  0:02
   CLOCK: [2019-09-04 Wed 15:10]--[2019-09-04 Wed 15:14] =>  0:04
   :END:
*** DONE Try chrome performance monitor
    CLOSED: [2019-09-04 Wed 16:13]
      :LOGBOOK:
      CLOCK: [2019-09-04 Wed 16:13]--[2019-09-04 Wed 16:13] =>  0:00
      CLOCK: [2019-09-04 Wed 16:13]--[2019-09-04 Wed 16:13] =>  0:00
      CLOCK: [2019-09-04 Wed 15:27]--[2019-09-04 Wed 15:41] =>  0:14
      :END:
It doesn't seem to break down into anything recognizable as a cljs function.
*** CANCELED Use some cljs perf monitoring
    CLOSED: [2019-09-06 Fri 22:33]
      :LOGBOOK:
      CLOCK: [2019-09-04 Wed 16:15]--[2019-09-04 Wed 16:27] =>  0:12
      :END:
https://github.com/ptaoussanis/tufte
*** DONE Optimize Other areas
    CLOSED: [2019-09-15 Sun 11:28]
     :LOGBOOK:
     CLOCK: [2019-09-04 Wed 19:06]--[2019-09-04 Wed 19:13] =>  0:07
     CLOCK: [2019-09-04 Wed 16:27]--[2019-09-04 Wed 16:56] =>  0:29
     :END:
Disabled pan/drag option for now
**** CANCELED Expo/ReactNative profiling
     CLOSED: [2019-09-06 Fri 22:35]
Wait [[https://github.com/facebook/react-native/issues/18044#issuecomment-517763893][for this]]

**** DONE Debounce/Throttle
     CLOSED: [2019-09-04 Wed 20:19]
       :LOGBOOK:
       CLOCK: [2019-09-04 Wed 19:55]--[2019-09-04 Wed 20:19] =>  0:24
       CLOCK: [2019-09-04 Wed 19:14]--[2019-09-04 Wed 19:50] =>  0:36
       :END:
https://www.martinklepsch.org/posts/simple-debouncing-in-clojurescript.html
https://medium.com/@alehatsman/clojurescript-throttle-debounce-a651dfb66ac
**** DONE Optimize re-frame
     CLOSED: [2019-09-15 Sun 11:28]
       :LOGBOOK:
       CLOCK: [2019-09-06 Fri 17:58]--[2019-09-06 Fri 18:04] =>  0:06
       CLOCK: [2019-09-05 Thu 00:00]--[2019-09-05 Thu 00:16] =>  0:16
       :END:
Some [[https://github.com/Day8/re-frame/blob/master/docs/Performance-Problems.md][problems]] I have are anonymous functions on each element and too big of state being passed into components.
I can't use re-frame 10x because it is too specific to a browser, but I might be able to use [[https://github.com/Day8/re-frame/blob/master/docs/Debugging.md][some older ways]] of monitoring re-frame.
***** DONE Problem 2 exploration ( tightly coupled state )
      CLOSED: [2019-09-06 Fri 18:03]
        :LOGBOOK:
        CLOCK: [2019-09-05 Thu 18:51]--[2019-09-05 Thu 20:05] =>  1:14
        :END:
- [X] Simplify refs as much as possible
****** DONE Dive into unknown subscription patterns
       CLOSED: [2019-09-06 Fri 18:03]
         :LOGBOOK:
         CLOCK: [2019-09-05 Thu 21:54]--[2019-09-05 Thu 22:34] =>  0:40
         CLOCK: [2019-09-05 Thu 20:06]--[2019-09-05 Thu 20:49] =>  0:43
         :END:
https://github.com/Day8/re-frame/blob/master/docs/SubscriptionInfographic.md
Apparently registered subscriptions are supposed to do all the computation and can be nested.
Hiccup is supposed to not have any computation.
This is a new concept.
Read through a bunch of [[https://purelyfunctional.tv/guide/database-structure-in-re-frame/][this guide]] on how to do things in re-frame.
I messed up by not indexing buckets and periods by their id.
My lookups require iterating over the entire collection on each update.
Which is probably a big reason why dragging performance is so bad.
Hopefully I can refactor without starting over.
******* DONE Plan how to fix everything given new information
        CLOSED: [2019-09-06 Fri 18:03]
         :LOGBOOK:
         CLOCK: [2019-09-06 Fri 17:57]--[2019-09-06 Fri 17:57] =>  0:00
         :END:
- Areas affected are limited to what is needed to run the day-planning screen
- Database has ~buckets~, ~periods~ indexed (patterns and templates later)
- All affected subscriptions utilize the graph functionality
- Subscribe calls are as deep as they can go in view components
- Listen function is utilized
- View comps are only concerned with generating hiccup
******** Relevant subscriptions
#+begin_src clojure
  ;; day-planning
  periods           (subscribe [:get-collision-grouped-periods])
  displayed-day     (subscribe [:get-day-time-navigator])
  selected-period   (subscribe [:get-selection-period-movement])
  period-in-play    (subscribe [:get-period-in-play])
  now               (subscribe [:get-now])
  buckets           (subscribe [:get-buckets])
  patterns          (subscribe [:get-patterns])
  templates         (subscribe [:get-templates])
  ;; day
  px-ratio-config   @(subscribe [:get-pixel-to-minute-ratio])
#+end_src

***** DONE Refactor app-db to use hash map for buckets and periods collection
      CLOSED: [2019-09-08 Sun 19:28]
****** DONE Initial spec and default db change
       CLOSED: [2019-09-06 Fri 21:24]
       :LOGBOOK:
       CLOCK: [2019-09-06 Fri 18:04]--[2019-09-06 Fri 19:12] =>  1:08
       :END:
****** DONE Fix repl
       CLOSED: [2019-09-06 Fri 21:04]
         :LOGBOOK:
         CLOCK: [2019-09-06 Fri 20:30]--[2019-09-06 Fri 21:04] =>  0:34
         :END:
Attempted to refactor app-db and discovered that my repl is broken...
Attempted to install new versions of cider.nrepl and shadow-cljs.
Also attempted to use intellij/cursive but couldn't figure out how to connect to cljs repl.

 - [X] Try to [[https://docs.cider.mx/cider/basics/installation.html][install]] package
 - [X] Try to fix emacs not connecting to gnu archive
   - Added some magic line to ~.spacemacs~ to fix https melpa connection
   - Updated packages (got the latest *cider* from that)
   - Followed [[https://shadow-cljs.github.io/docs/UsersGuide.html#_launch_the_clojurescript_repl][shadow-cljs user guide]] instructions on cider launching
     - There is a difference between ~cider-jack-in-clojurescript~ and ~cider-jack-in-cljs~ ( must use the later )
     - Must wait for prompts (doing anything interrupts the flow)
   
****** DONE Get elements to show up in day display
       CLOSED: [2019-09-06 Fri 21:44]
       :LOGBOOK:
       CLOCK: [2019-09-06 Fri 21:24]--[2019-09-06 Fri 21:44] =>  0:20
       :END:

****** DONE Work through runtime errors trying to select and move period
       CLOSED: [2019-09-07 Sat 13:02]
       :LOGBOOK:
       CLOCK: [2019-09-07 Sat 10:45]--[2019-09-07 Sat 13:02] =>  2:17
       :END:

****** DONE Stress movement with *lots* of buckets and periods in default app-db
       CLOSED: [2019-09-07 Sat 15:30]
       :LOGBOOK:
       CLOCK: [2019-09-07 Sat 15:30]--[2019-09-07 Sat 15:37] =>  0:07
       CLOCK: [2019-09-07 Sat 14:09]--[2019-09-07 Sat 15:30] =>  1:21
       :END:
****** DONE Figure out why too many overlapping periods push to the other track
       CLOSED: [2019-09-08 Sun 11:18]
         :LOGBOOK:
         CLOCK: [2019-09-08 Sun 10:25]--[2019-09-08 Sun 11:18] =>  0:53
         :END:
Fix it crossing the boundaries of the component with some ~min~ wrappers.
****** DONE Fix runtime errors attempting to add new buckets end periods
       CLOSED: [2019-09-08 Sun 18:10]
         :LOGBOOK:
         CLOCK: [2019-09-08 Sun 17:40]--[2019-09-08 Sun 18:10] =>  0:30
         CLOCK: [2019-09-08 Sun 17:18]--[2019-09-08 Sun 17:40] =>  0:22
         CLOCK: [2019-09-08 Sun 15:42]--[2019-09-08 Sun 17:18] =>  1:36
         CLOCK: [2019-09-08 Sun 13:03]--[2019-09-08 Sun 13:33] =>  0:30
         CLOCK: [2019-09-08 Sun 12:50]--[2019-09-08 Sun 13:02] =>  0:12
         CLOCK: [2019-09-08 Sun 12:43]--[2019-09-08 Sun 12:50] =>  0:07
         CLOCK: [2019-09-08 Sun 12:38]--[2019-09-08 Sun 12:40] =>  0:02
         CLOCK: [2019-09-08 Sun 11:53]--[2019-09-08 Sun 12:02] =>  0:09
         CLOCK: [2019-09-08 Sun 11:42]--[2019-09-08 Sun 11:47] =>  0:05
         CLOCK: [2019-09-08 Sun 11:27]--[2019-09-08 Sun 11:42] =>  0:15
         CLOCK: [2019-09-08 Sun 11:19]--[2019-09-08 Sun 11:21] =>  0:02
         :END:
- [X] Buckets page
- [X] Bucket form load 
- [X] Changes sub  for bucket form
- [X] Save bucket changes handler 
- [x] Loading period form 
- [X] Saving period form 
- [X] Add period 
- [X] Add bucket 
- [X] Delete bucket 
- [X] Delete period 
***** CANCELED Refactor subscriptions 
      CLOSED: [2019-09-15 Sun 11:27]
- [ ] Subs use signal graph pattern
- [ ] Subs Hold all the logic (very thin hiccup only views)
- [ ] Subscribe calls are as deep as they can go in view components
- [ ] Listen function is utilized

**** CANCELED Circumnavigate reframe events
     CLOSED: [2019-09-15 Sun 11:26]
       :LOGBOOK:
       CLOCK: [2019-09-06 Fri 17:44]--[2019-09-06 Fri 17:56] =>  0:12
       :END:
The idea here is to have a ~movement selected~ component that has an ~r/atom~ for its start/stop times.
Then the pan gesture event handler will update that r/atom to move the element around.
The pan gesture state change handler will dispatch a single update event on the end state change.
Then the selected element comp will not be displayed and the actual period will be rendered in the updated position.
** CANCELED Stretch mode
   CLOSED: [2019-09-04 Wed 16:56]
** DONE Add bottom sheet for period editing and selection
   CLOSED: [2019-09-14 Sat 18:08]
     :LOGBOOK:
     CLOCK: [2019-09-14 Sat 17:58]--[2019-09-14 Sat 18:08] =>  0:10
     CLOCK: [2019-09-14 Sat 17:33]--[2019-09-14 Sat 17:45] =>  0:12
     CLOCK: [2019-09-14 Sat 16:20]--[2019-09-14 Sat 16:40] =>  0:20
     CLOCK: [2019-09-14 Sat 16:14]--[2019-09-14 Sat 16:19] =>  0:05
     CLOCK: [2019-09-14 Sat 15:25]--[2019-09-14 Sat 15:52] =>  0:27
     CLOCK: [2019-09-14 Sat 15:12]--[2019-09-14 Sat 15:25] =>  0:13
     CLOCK: [2019-09-14 Sat 13:19]--[2019-09-14 Sat 13:29] =>  0:10
     CLOCK: [2019-09-14 Sat 12:57]--[2019-09-14 Sat 13:19] =>  0:22
     CLOCK: [2019-09-13 Fri 19:39]--[2019-09-13 Fri 20:12] =>  0:33
     CLOCK: [2019-09-10 Tue 22:19]--[2019-09-10 Tue 22:46] =>  0:27
     CLOCK: [2019-09-10 Tue 21:29]--[2019-09-10 Tue 22:16] =>  0:47
     CLOCK: [2019-09-10 Tue 18:04]--[2019-09-10 Tue 19:14] =>  1:10
     CLOCK: [2019-09-09 Mon 21:25]--[2019-09-09 Mon 21:45] =>  0:20
     CLOCK: [2019-09-09 Mon 20:37]--[2019-09-09 Mon 21:19] =>  0:42
     CLOCK: [2019-09-09 Mon 19:45]--[2019-09-09 Mon 20:30] =>  0:45
     CLOCK: [2019-09-09 Mon 19:15]--[2019-09-09 Mon 19:41] =>  0:26
     CLOCK: [2019-09-08 Sun 19:49]--[2019-09-08 Sun 20:26] =>  0:37
     CLOCK: [2019-09-08 Sun 19:28]--[2019-09-08 Sun 19:44] =>  0:16
     CLOCK: [2019-09-04 Wed 16:56]--[2019-09-04 Wed 18:28] =>  1:32
     :END:
https://github.com/osdnk/react-native-reanimated-bottom-sheet
- [X] Attempt to replace drawer
  - Didn't work
- [X] Add deps
- [X] Placeholder on the day screen
- [X] Use ~ref~ prop to dynamically close/open
- [X] Display an icon and add functions
- [X] Get functions working
- [X] Figure out how to get bottom-sheet to cover the view port and not just the bottom portion of the scroll view
- [X] Get the drawer to play nice with the bottom sheet
- [X] Fix property access error
- [X] Style transform buttons
- [X] Make edit selection detectable
- [X] Make all of day display visible while edit menu is up
- [X] Make movement selection clear edit
- [X] Fix changing bucket on selected edit break transform button actions
- [X] Collapse bottom sheet on delete period
- [X] Create safe fn for bottom sheet collapse
- [X] Add the edit form
- [X] Fix delete actions on elements
** DONE Add double tap on screen to add period
   CLOSED: [2019-09-15 Sun 14:44]
   :LOGBOOK:
   CLOCK: [2019-09-15 Sun 13:57]--[2019-09-15 Sun 14:44] =>  0:47
   CLOCK: [2019-09-15 Sun 12:25]--[2019-09-15 Sun 12:30] =>  0:05
   CLOCK: [2019-09-14 Sat 18:10]--[2019-09-14 Sat 18:52] =>  0:42
   :END:
** DONE Get pattern planning view working
   CLOSED: [2019-09-17 Tue 13:55]
     :LOGBOOK:
     CLOCK: [2019-09-17 Tue 13:36]--[2019-09-17 Tue 13:55] =>  0:19
     CLOCK: [2019-09-16 Mon 19:43]--[2019-09-16 Mon 20:51] =>  1:08
     CLOCK: [2019-09-16 Mon 18:59]--[2019-09-16 Mon 19:30] =>  0:31
     CLOCK: [2019-09-16 Mon 16:26]--[2019-09-16 Mon 16:29] =>  0:03
     CLOCK: [2019-09-16 Mon 16:19]--[2019-09-16 Mon 16:22] =>  0:03
     CLOCK: [2019-09-16 Mon 15:39]--[2019-09-16 Mon 15:58] =>  0:19
     CLOCK: [2019-09-16 Mon 15:04]--[2019-09-16 Mon 15:32] =>  0:28
     CLOCK: [2019-09-16 Mon 11:30]--[2019-09-16 Mon 13:22] =>  1:52
     CLOCK: [2019-09-15 Sun 17:16]--[2019-09-15 Sun 19:05] =>  1:49
     CLOCK: [2019-09-15 Sun 14:55]--[2019-09-15 Sun 15:00] =>  0:05
     :END:
- [X] Fix top level template form
- [X] Get pattern planning to render
- [X] Get template edit select working
- [X] Add edit item button
- [X] Get compact form buttons working
- [X] Get duration comp working
- [X] Get top level save working
- [X] Get template movement working
- [X] Add planned field to templates
- [X] Implement transform functions for buttons
** DONE Add now indicator for periods
   CLOSED: [2019-09-17 Tue 15:52]
     :LOGBOOK:
     CLOCK: [2019-09-17 Tue 14:56]--[2019-09-17 Tue 15:52] =>  0:56
     :END:
What is the difference between these two reagent components?
#+begin_src clojure
  (def a-thing (r/atom 1))

  (defn comp-one [params]
    (let [something (:a params)
          a-thing-er (+ 1 @a-thing)]
      [view [text (str a-thing-er)]]))

  (defn comp-two [params]
    (let [something  (:a params)
          a-thing-er (+ 1 @a-thing)]
      (fn []  ;; <------ doesn't re-render when params change with this
        [view [text (str a-thing-er)]])))

  (defn main-comp []
    [view
     [comp-1 {:a "whatever"}]
     [comp-2 {:a "whatever"}]])
#+end_src
** DONE Fix selection indication 
   CLOSED: [2019-09-17 Tue 20:01]
     :LOGBOOK:
     CLOCK: [2019-09-17 Tue 19:38]--[2019-09-17 Tue 19:53] =>  0:15
     CLOCK: [2019-09-17 Tue 18:39]--[2019-09-17 Tue 19:10] =>  0:31
     :END:
- borders in every state (same color for no selection)
- style dotted (or dashed) for movement
** DONE Fix bottom-sheet-ref in prod
   CLOSED: [2019-09-17 Tue 22:02]
     :LOGBOOK:
     CLOCK: [2019-09-17 Tue 21:01]--[2019-09-17 Tue 22:11] =>  1:10
     :END:
This was a helpful [[https://gist.github.com/pesterhazy/4d9df2edc303e5706d547aeabe0e17e1][gist]].
** DONE Add FAB
   CLOSED: [2019-09-23 Mon 19:52]
     :LOGBOOK:
     CLOCK: [2019-09-23 Mon 19:21]--[2019-09-23 Mon 19:52] =>  0:31
     CLOCK: [2019-09-23 Mon 18:36]--[2019-09-23 Mon 19:20] =>  0:44
     CLOCK: [2019-09-23 Mon 18:13]--[2019-09-23 Mon 18:35] =>  0:22
     CLOCK: [2019-09-22 Sun 12:20]--[2019-09-22 Sun 13:35] =>  1:15
     CLOCK: [2019-09-22 Sun 11:48]--[2019-09-22 Sun 12:01] =>  0:13
     CLOCK: [2019-09-21 Sat 21:31]--[2019-09-21 Sat 22:27] =>  0:56
     CLOCK: [2019-09-21 Sat 17:23]--[2019-09-21 Sat 17:23] =>  0:00
     CLOCK: [2019-09-21 Sat 16:43]--[2019-09-21 Sat 16:47] =>  0:04
     CLOCK: [2019-09-21 Sat 16:41]--[2019-09-21 Sat 16:42] =>  0:01
     CLOCK: [2019-09-21 Sat 16:31]--[2019-09-21 Sat 16:37] =>  0:06
     CLOCK: [2019-09-21 Sat 15:41]--[2019-09-21 Sat 15:43] =>  0:02
     CLOCK: [2019-09-21 Sat 14:35]--[2019-09-21 Sat 15:18] =>  0:43
     CLOCK: [2019-09-21 Sat 13:49]--[2019-09-21 Sat 14:23] =>  0:34
     CLOCK: [2019-09-21 Sat 13:35]--[2019-09-21 Sat 13:41] =>  0:06
     CLOCK: [2019-09-21 Sat 13:33]--[2019-09-21 Sat 13:35] =>  0:02
     CLOCK: [2019-09-19 Thu 18:57]--[2019-09-19 Thu 19:53] =>  0:56
     CLOCK: [2019-09-17 Tue 20:04]--[2019-09-17 Tue 20:25] =>  0:21
     :END:
- [X] No play from button on FAB
- [X] FAB to renders
- [X] FAB only renders when no selections and day_planning
- [X] Each button works
  - [X] Play button works
  - [X] Add pattern works
  - [X] Generate pattern works
- [X] Bottom sheet has play from option (scope creep)
  - [X] Starts a playing period
  - [X] Stops when in play
- [X] Bottom sheet has select next/prev (scope creep)
  - [X] Works on day_planning screen
  - [X] Works on pattern_planning screen
- [X] Bottom sheet has drawer up indicator (scope creep)
- [X] Bottom sheet for periods has bucket field
- [X] Pattern planning has double tap to add option
** DONE Enable persistence
   CLOSED: [2019-09-23 Mon 19:57]
   :LOGBOOK:
   CLOCK: [2019-09-23 Mon 19:52]--[2019-09-23 Mon 19:57] =>  0:05
   :END:
** CANCELED Stress test persistence
   CLOSED: [2019-09-29 Sun 12:17]
   - [ ] Get a default app-db from usage
   - [ ] Increase it artificially
** CANCELED Button either moves with drawer slide or disappears
   CLOSED: [2019-09-29 Sun 12:17]
** DONE Add Dynamic text color to elements
   CLOSED: [2019-09-06 Fri 22:28]
   :LOGBOOK:
   CLOCK: [2019-09-06 Fri 21:56]--[2019-09-06 Fri 22:28] =>  0:32
   :END:

* DONE Dogfood feedback aggregation 001
  CLOSED: [2019-09-29 Sun 16:36]
  :PROPERTIES:
  :ARCHIVE_TIME: 2019-09-29 Sun 16:37
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
 :LOGBOOK:
 CLOCK: [2019-09-29 Sun 16:26]--[2019-09-29 Sun 16:35] =>  0:09
 CLOCK: [2019-09-29 Sun 13:38]--[2019-09-29 Sun 14:43] =>  1:05
 CLOCK: [2019-09-29 Sun 12:15]--[2019-09-29 Sun 13:38] =>  1:23
 :END:

* DONE Fix bottom sheet 
  CLOSED: [2019-09-28 Sat 17:06]
  :PROPERTIES:
  :VALUE:    5
  :WORK:     2
  :ARCHIVE_TIME: 2019-09-29 Sun 16:37
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-09-28 Sat 15:38]--[2019-09-28 Sat 17:06] =>  1:28
  CLOCK: [2019-09-28 Sat 13:47]--[2019-09-28 Sat 14:00] =>  0:13
  CLOCK: [2019-09-28 Sat 12:30]--[2019-09-28 Sat 12:50] =>  0:20
  CLOCK: [2019-09-28 Sat 11:01]--[2019-09-28 Sat 11:53] =>  0:52
  :END:
 - [X] Multiple snap points
 - +Using use content section and header section+
 - [X] Closing and opening triggers selection changes
 - [X] Jump to today works

* DONE Change snap points for bottom sheet
  CLOSED: [2019-10-01 Tue 18:14]
  :PROPERTIES:
  :VALUE:    3
  :WORK:     1
  :ARCHIVE_TIME: 2019-10-29 Tue 19:05
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-10-01 Tue 18:09]--[2019-10-01 Tue 18:13] =>  0:04
  :END:
  - [X] Drag indicator is smaller
  - [X] First snap position on selection shows all buttons

* DONE Fix delete pattern button
  CLOSED: [2019-10-01 Tue 18:08]
  :PROPERTIES:
  :VALUE:    20
  :WORK:     1
  :ARCHIVE_TIME: 2019-10-29 Tue 19:05
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-10-01 Tue 18:02]--[2019-10-01 Tue 18:08] =>  0:06
  :END:

* CANCELED Fix bottom sheet spacer
  CLOSED: [2019-10-29 Tue 19:02]
  :PROPERTIES:
  :VALUE:    2
  :WORK:     2
  :ARCHIVE_TIME: 2019-10-29 Tue 19:05
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:
- Maybe it should be sized dynamically with bottom sheet position

* CANCELED Add a snap to for period movement 
  CLOSED: [2019-10-29 Tue 19:03]
  :PROPERTIES:
  :VALUE:    1
  :WORK:     8
  :ARCHIVE_TIME: 2019-10-29 Tue 19:05
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

* DONE Long press to add period (not double tap)  
  CLOSED: [2019-10-29 Tue 19:01]
  :PROPERTIES:
  :VALUE:    3
  :WORK:     2
  :ARCHIVE_TIME: 2019-10-29 Tue 19:05
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  Double tap is too easy to trigger when scrolling
  Also bring up bucket model

* DONE Day indicator should show day of week
  CLOSED: [2019-10-29 Tue 19:03]
  :PROPERTIES:
  :VALUE:    1
  :WORK:     1
  :ARCHIVE_TIME: 2019-10-29 Tue 19:05
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:

* DONE Add a menu button instead of gesture action
  CLOSED: [2019-10-29 Tue 19:01]
  :PROPERTIES:
  :VALUE:    3
  :WORK:     2
  :ARCHIVE_TIME: 2019-10-29 Tue 19:06
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:

* CANCELED Remove up and down arrows 
  CLOSED: [2019-10-29 Tue 19:03]
  :PROPERTIES:
  :WORK:     1
  :VALUE:    1
  :ARCHIVE_TIME: 2019-10-29 Tue 19:06
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:
    :LOGBOOK:
    CLOCK: [2019-10-08 Tue 18:49]--[2019-10-08 Tue 18:49] =>  0:00
    :END:
- Drag state already does this
- Buttons in compact form if more precision is needed

* CANCELED Hide android navigation bar 
  CLOSED: [2019-11-12 Tue 20:42]
  :PROPERTIES:
  :VALUE:    2
  :WORK:     1
  :ARCHIVE_TIME: 2019-11-12 Tue 20:54
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:
- Or adjust bottom-sheet and FAB to not be covered by it

* CANCELED Make a better element state indication without animation or "jumpy" borders
  CLOSED: [2019-11-12 Tue 20:42]
  :PROPERTIES:
  :VALUE:    5
  :WORK:     5
  :ARCHIVE_TIME: 2019-11-12 Tue 20:54
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:
  - in play
  - resting
  - selected edit
  - selected movement


* DONE Fix now indicator to have accurate position 
  CLOSED: [2019-11-12 Tue 20:42]
  :PROPERTIES:
  :VALUE:    3
  :WORK:     2
  :ARCHIVE_TIME: 2019-11-12 Tue 20:54
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:

* CANCELED Figure out why keyboard pops up when opening on day view (sometimes)
  CLOSED: [2019-11-12 Tue 20:41]
  :PROPERTIES:
  :VALUE:    1
  :WORK:     3
  :ARCHIVE_TIME: 2019-11-12 Tue 20:54
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: CANCELED
  :END:

* DONE Fix modal bottom gap 
  CLOSED: [2019-11-12 Tue 20:42]
  :PROPERTIES:
  :VALUE:    1
  :WORK:     2
  :ARCHIVE_TIME: 2019-11-12 Tue 20:55
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
  :LOGBOOK:
  CLOCK: [2019-10-08 Tue 18:49]--[2019-10-08 Tue 18:49] =>  0:00
  :END:
  - noticed on play bucket modal

* DONE Remove minimum period size
  CLOSED: [2019-11-12 Tue 20:41]
  :PROPERTIES:
  :VALUE:    2
  :WORK:     1
  :ARCHIVE_TIME: 2019-11-12 Tue 20:55
  :ARCHIVE_FILE: ~/projects/time-align-mobile/time-align-mobile.org
  :ARCHIVE_OLPATH: Time Align Mobile/Release to strangers
  :ARCHIVE_CATEGORY: time-align-mobile
  :ARCHIVE_TODO: DONE
  :END:
