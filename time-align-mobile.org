#+TODO: TODO DOSUB | DONE CANCELED 
#+PROPERTY: Confidence_ALL 0 10 25 50 75 90 100
#+PROPERTY: Effort_ALL 0 0:10 0:30 1:00 2:00 3:00 4:00 5:00 6:00 7:00 8:00 9:00 10:00 15:00 20:00 25:00 30:00 35:00 40:00
#+PROPERTY: Work_ALL 0 1 2 3 5 8 13 20 50 100
#+PROPERTY: Value_ALL 0 1 2 3 5 8 13 20 50 100
# Time Estimation column view
#+COLUMNS: %40ITEM(Task) %10Confidence(Confidence){mean} %17Effort(Estimated Effort){:} %CLOCKSUM
# WSJF column view for editing
# #+COLUMNS: %Value(Value)  %Work(Work) %ITEM(Task) %TODO(State) 
#+STARTUP: overview

* DOSUB Time Align Mobile
  :LOGBOOK:
  CLOCK: [2019-11-12 Tue 20:55]--[2019-11-12 Tue 21:08] =>  0:13
  CLOCK: [2019-11-12 Tue 19:30]--[2019-11-12 Tue 20:49] =>  1:19
  CLOCK: [2019-09-29 Sun 17:17]--[2019-09-29 Sun 17:24] =>  0:07
  CLOCK: [2019-09-29 Sun 15:52]--[2019-09-29 Sun 15:55] =>  0:03
  CLOCK: [2019-09-15 Sun 11:20]--[2019-09-15 Sun 11:29] =>  0:09
  CLOCK: [2019-09-06 Fri 22:29]--[2019-09-06 Fri 22:36] =>  0:07
  CLOCK: [2019-08-11 Sun 19:08]--[2019-08-11 Sun 19:17] =>  0:09
  CLOCK: [2019-08-10 Sat 12:51]--[2019-08-10 Sat 13:11] =>  0:20
  CLOCK: [2019-07-20 Sat 21:52]--[2019-07-20 Sat 22:10] =>  0:18
  CLOCK: [2019-07-20 Sat 18:55]--[2019-07-20 Sat 18:56] =>  0:01
  CLOCK: [2019-07-13 Sat 18:20]--[2019-07-13 Sat 18:42] =>  0:22
  CLOCK: [2019-06-29 Sat 18:06]--[2019-06-29 Sat 18:10] =>  0:04
  CLOCK: [2019-06-17 Mon 17:42]--[2019-06-17 Mon 18:14] =>  0:32
  CLOCK: [2019-05-09 Thu 20:30]--[2019-05-09 Thu 20:55] =>  0:25
  CLOCK: [2018-09-21 Fri 07:39]--[2018-09-21 Fri 07:40] =>  0:01
  CLOCK: [2018-08-29 Wed 14:41]--[2018-08-29 Wed 14:46] =>  0:05
  CLOCK: [2018-08-19 Sun 16:05]--[2018-08-19 Sun 16:09] =>  0:04
  CLOCK: [2018-08-19 Sun 15:56]--[2018-08-19 Sun 16:05] =>  0:09
  CLOCK: [2018-08-18 Sat 15:07]--[2018-08-18 Sat 15:11] =>  0:04
  CLOCK: [2018-07-17 Tue 18:58]--[2018-07-17 Tue 19:17] =>  0:19
  :END:
     #+NAME: WSJF table
     #+BEGIN: propview :conds ((string= TODO "TODO")) :cols ((concat "[[" ITEM "]]") (/ (float VALUE) (float WORK)) VALUE WORK )
     #+END:
     #+begin_center
     This table uses a condition to filter the parent and children headings into a table displaying *VALUE* and *WORK* properties.
     The *(/ (float VALUE) (float WORK))* column is derived from those two properties. 
     ~C-c C-c~ on the table definition line to re-render.
     Sort by putting cursor on one of the lines and running ~org-table-sort-lines~ with *N* option.
     To rapidly enter *VALUE* and *WORK* properties use ~org-columns~ to enter column view.
     Then use arrow keys to navigate cells in column view. 
     Use ~SHIFT ->~ to cycle through property values.
     #+end_center
** DOSUB Release to strangers
     #+BEGIN: propview :conds ((string= TODO "TODO")) :cols ((concat "[[" ITEM "]]") (/ (float VALUE) (float WORK)) VALUE WORK )
     | (concat "[[" ITEM "]]")                                                  | (/ (float VALUE) (float WORK)) | VALUE | WORK |
     |----------------------------------------------------------------------+--------------------------------+-------+------|
     | "[[Follow material design on each page without changing functionality]]" |                            5.0 |   100 |   20 |
     | "[[App notification on planned period starting]]"                        |                            4.0 |    20 |    5 |
     | "[[Put version indicator in app-db (for export mostly)]]"                |                            1.0 |     1 |    1 |
     |----------------------------------------------------------------------+--------------------------------+-------+------|
     |                                                                      |                                |       |      |
     #+END:
*** TODO App notification on planned period starting 
    :PROPERTIES:
    :VALUE:    20
    :WORK:     5
    :EFFORT:   4:00
    :CONFIDENCE: 50
    :END:
    :LOGBOOK:
    CLOCK: [2019-11-12 Tue 19:27]--[2019-11-12 Tue 19:28] =>  0:01
    CLOCK: [2019-11-11 Mon 18:59]--[2019-11-11 Mon 18:59] =>  0:00
    CLOCK: [2019-11-11 Mon 18:10]--[2019-11-11 Mon 18:59] =>  0:49
    :END:
*** TODO Put version indicator in app-db (for export mostly)
    :PROPERTIES:
    :VALUE:    1
    :WORK:     1
    :CONFIDENCE: 90
    :EFFORT:   0:30
    :END:
*** TODO Follow material design on each page without changing functionality
    :PROPERTIES:
    :WORK:     20
    :VALUE:    100
    :CONFIDENCE: 25
    :EFFORT:   10:00
    :END:
    :LOGBOOK:
    CLOCK: [2019-11-28 Thu 13:51]--[2019-11-28 Thu 13:54] =>  0:03
    CLOCK: [2019-11-13 Wed 20:56]--[2019-11-13 Wed 21:04] =>  0:08
    :END:
**** DONE Bucket list
     CLOSED: [2019-11-28 Thu 12:43]
     :LOGBOOK:
     CLOCK: [2019-11-28 Thu 12:10]--[2019-11-28 Thu 12:32] =>  0:22
     CLOCK: [2019-11-25 Mon 19:08]--[2019-11-25 Mon 19:08] =>  0:00
     CLOCK: [2019-11-24 Sun 17:27]--[2019-11-24 Sun 17:29] =>  0:02
     CLOCK: [2019-11-24 Sun 11:22]--[2019-11-24 Sun 12:42] =>  1:20
     CLOCK: [2019-11-24 Sun 09:23]--[2019-11-24 Sun 10:30] =>  1:07
     :END:
     +Between white, black, and lightened/darkened version of a color, there be a satisfying option for a [[https://www.npmjs.com/package/color#luminosity][contrast]] of 4.5 (WCAG minimum for readability).+
     +The list page could be a two line list with background a text color related to the bucket color. No icon on the left but a vertical three dot menu on the right.+
     Simple two line list with a vertical three dot menu on the right and a =google-circles-communities= icon that is colored by the bucket color.
     - [X] Bucket item uses list-item
     - [X] Bucket modal has close button
     - [X] Buckets screen has top bar
     - [X] Remove filters
     - [X] Change bottom sheet save to not close bottom sheet
     - [X] FAB exists on bucket list page
**** Drawer
     :LOGBOOK:
     CLOCK: [2019-11-28 Thu 13:01]--[2019-11-28 Thu 13:18] =>  0:17
     :END:
     - [X] Minimum love-able screens displayed
     - [X] Icons are /better/
     - [X] Labels are /better/
     - [ ] Swipe open is disabled (every screen needs top-bar)
**** DONE Plans
     CLOSED: [2019-11-30 Sat 17:24]
     :LOGBOOK:
     CLOCK: [2019-11-28 Thu 13:21]--[2019-11-28 Thu 13:51] =>  0:30
     :END:
     - [X] Uses similar item component as bucket
     - [X] Has default label text
     - [X] Has top bar
**** Reports 
     :LOGBOOK:
     CLOCK: [2019-12-09 Mon 19:04]--[2019-12-09 Mon 21:30] =>  2:26
     CLOCK: [2019-12-09 Mon 12:30]--[2019-12-09 Mon 13:05] =>  0:35
     CLOCK: [2019-12-09 Mon 09:36]--[2019-12-09 Mon 10:40] =>  1:04
     CLOCK: [2019-12-08 Sun 13:57]--[2019-12-08 Sun 15:15] =>  1:18
     CLOCK: [2019-12-08 Sun 11:53]--[2019-12-08 Sun 13:56] =>  2:03
     CLOCK: [2019-12-01 Sun 18:22]--[2019-12-01 Sun 20:45] =>  2:23
     CLOCK: [2019-12-01 Sun 17:51]--[2019-12-01 Sun 18:00] =>  0:09
     CLOCK: [2019-12-01 Sun 17:34]--[2019-12-01 Sun 17:40] =>  0:06
     CLOCK: [2019-12-01 Sun 16:28]--[2019-12-01 Sun 17:23] =>  0:55
     CLOCK: [2019-12-01 Sun 16:18]--[2019-12-01 Sun 16:27] =>  0:09
     CLOCK: [2019-12-01 Sun 16:18]--[2019-12-01 Sun 16:18] =>  0:00
     CLOCK: [2019-12-01 Sun 15:42]--[2019-12-01 Sun 15:45] =>  0:03
     CLOCK: [2019-12-01 Sun 14:01]--[2019-12-01 Sun 14:37] =>  0:36
     :END:
     - [X] Has top bar
     - [ ] Some chart (leaning on cumulative by bucket)

**** Data 
     - [ ] Has top bar
     - [ ] Uses better buttons
**** Bucket form 
     - [ ] Has top bar
     - [ ] All components align
     - [ ] All components have a consistent style
**** Period form 
     - [ ] Has top bar
     - [ ] All components align
     - [ ] All components have a consistent style
**** Pattern form 
     - [ ] Has top bar
     - [ ] All components align
     - [ ] All components have a consistent style
**** Template form 
     - [ ] Has top bar
     - [ ] All components align
     - [ ] All components have a consistent style
**** Misc along the way
     :LOGBOOK:
     CLOCK: [2019-12-01 Sun 12:26]--[2019-12-01 Sun 13:38] =>  1:12
     CLOCK: [2019-11-30 Sat 19:09]--[2019-11-30 Sat 19:09] =>  0:00
     CLOCK: [2019-11-30 Sat 17:24]--[2019-11-30 Sat 17:28] =>  0:04
     :END:
     - [X] Save closes keyboard
     - [X] Save ticks for in play update
     - [X] Tick updates the stop time in the form?
     - [X] Update back button
** DOSUB Eventually 
*** TODO Add Calendar integration
    :PROPERTIES:
    :Effort:   10:00
    :Confidence: 60
    :END:
    :LOGBOOK:
    CLOCK: [2019-09-17 Tue 18:34]--[2019-09-17 Tue 18:39] =>  0:05
    :END:
https://docs.expo.io/versions/latest/sdk/calendar/
- [ ] Sync button to pull in calendars from system
- [ ] Calendar list
- [ ] Add import to bucket option
- [ ] Enabled option on each calendar item
- [ ] Auto add options under each enabled item
  - [ ] Planned
  - [ ] Actual
- [ ] Calendar reference to templates
- [ ] Calendar reference to periods
- [ ] Calendars enabled and auto add options to each Bucket
- [ ] Form components to link periods to calendar events
- [ ] Form components to link templates to calendar events
*** TODO Add payment option to vote for features  
    Air table integration for features list.
    First option is to select a feature that already exists.
    Second option is to create a new feature request. (rate limit this)
    Then there is an option to vote with $.
    When a successful payment is processed send a request to update the dollar amount in the feature list.
    https://docs.expo.io/versions/latest/sdk/payments/#using-the-payments-sdk
*** TODO Add presribed handler tests 
    :PROPERTIES:
    :WORK:     5
    :VALUE:    13
    :END:

    https://github.com/day8/re-frame/blob/master/docs/Testing.md
*** TODO Add subscription tests
    :PROPERTIES:
    :WORK:     5
    :VALUE:    13
    :END:
    https://github.com/day8/re-frame/blob/master/docs/Testing.md
*** TODO Multiple play timers
    :PROPERTIES:
    :VALUE:    8
    :WORK:     5
    :END:
   Stacked play indicators in bottom sheet.
   +Top+ Bottom is the selected edit with either a play or stop indicator with color. 
   Each level below that is a stop bottom for each playing item.
   Dynamic snap to points based on how many items in play.
   FAB does not have stop indicator anymore.
   Deslection by "closing" bottom sheet while still being able to see in play stop buttons.
   Can header and dynamic snap positions be used to achieve this? 
*** TODO Add selected start stop indicators (now indicator style)
    :PROPERTIES:
    :VALUE:    5
    :WORK:     2
    :END:
*** TODO Add geofencing triggers on buckets 
*** TODO Add locked period mechanism
    :PROPERTIES:
    :Effort:   8:00
    :Confidence: 65
    :END:
When using the transform arrows to move things around the other periods (in the day?) should get pushed unless locked.
Have a lock / unlock all button.
*** TODO Mobile friendly data editor
    :PROPERTIES:
    :Effort:   8:00
    :Confidence: 75
    :END:
    :LOGBOOK:
    CLOCK: [2019-08-08 Thu 21:25]--[2019-08-08 Thu 22:56] =>  1:31
    CLOCK: [2019-08-08 Thu 19:42]--[2019-08-08 Thu 20:42] =>  1:00
    :END:
https://gist.github.com/jgoodhcg/ed3cb0b51f117553e2b04ca62946b68d
*** TODO Checklists
    :PROPERTIES:
    :Effort:   6:00
    :Confidence: 65
    :END:
- [ ] Add basic data to spec template
- [ ] Add basic data to spec period
- [ ] Create components for forms
  - [ ] Period
  - [ ] Period compact (modal?)
  - [ ] Template
  - [ ] Template compact (modal?)
  - [ ] Create complete state indicator
*** TODO Notifications (push?)
    :PROPERTIES:
    :Effort:   4:00
    :Confidence: 80
    :END:
    :LOGBOOK:
    CLOCK: [2019-07-27 Sat 17:01]--[2019-07-27 Sat 17:54] =>  0:53
    :END:
- [[https://docs.expo.io/versions/latest/sdk/notifications/#notificationsschedulelocalnotificationasynclocalnotification-schedulingoptions][Schedule local notifications]]
- [[https://docs.expo.io/versions/latest/sdk/notifications/#subscribing-to-notifications][Listen for notifications]]
- [X] Test a local notification
- [ ] Schedule a notification side effect on planned period creation
  - [ ] Add period handler
  - [ ] Apply pattern handler
- [ ] Register a listener to navigate to day
*** TODO Fix template editing bug with end time
    :PROPERTIES:
    :Confidence: 65
    :Effort:   2:00
    :END:
Using the arrows to have the start go to the day before or end to day after seems to work fine.
Check that it works past 24+ hours.
Using the button to set the time into yesterday or tomorrow doesn't work. (needs to be relative...)
*** TODO Fix navigation
    :PROPERTIES:
    :Effort:   5:00
    :Confidence: 50
    :END:
- [ ] Move history to app-db
- [ ] Limit to X items
- [ ] Back should pop off history
- [ ] Delete actions should nav-back
*** TODO Markov chain prediction
    :PROPERTIES:
    :Effort:   16:00
    :Confidence: 30
    :END:
*** TODO Report Page
    :PROPERTIES:
    :Effort:   40:00
    :Confidence: 25
    :END:
*** TODO Queue page
    :PROPERTIES:
    :Effort:   10:00
    :Confidence: 50
    :END:
**** TODO Add queue definition to app-db
- [ ] queue definition
  - Include priority?
- [ ] ~:queue~ key under ~:bucket~
**** TODO Add queue form
**** TODO Add queue list
**** TODO Add conversion to planned period function
*** TODO Calendar Page
    :PROPERTIES:
    :Effort:   30:00
    :Confidence: 50
    :END:
*** TODO Analytics
    :PROPERTIES:
    :Effort:   4:00
    :Confidence: 25
    :END:
- Need to keep track of user activity
- Also need to keep track of user state for bug reports
- Also need error reporting
*** TODO Bugs
- Going back from template form doesn't close the bottom sheet
- Closing the bottom sheet doesn't deselect
*** TODO Unpin react svg lib version
     https://github.com/indiespirit/react-native-chart-kit/issues/200#issuecomment-550245684
** Dreams
- Data includes periods/templates/pattern generated from for reports of usage
- Meta data (with mobile friendly editor) on all entities
- [[https://practicalli.github.io/spacemacs/improving-code/linting/][Linting]]
- Fully namespaced keys only
- DRY up /all/ spectre paths
- Spec everything
- Unit test every function (or handlers, subs, helpers)
- Accessibility
- Energy meter
- Advanced notifications with interaction
- [[https://stackoverflow.com/questions/46680890/react-native-how-to-scroll-a-scrollview-to-a-given-location-after-navigation-f][better scrolling]]
- [[https://docs.expo.io/versions/v33.0.0/react-native/performance/][Optimize performance]]
- Refactor subscriptions to use signal graph pattern
- Refactor views to be very thin (no operations)
- Use animation api for state indication
- All start timestamps end at 45 sec and all stop time stamps end at 15 sec to have same minute without overlap
- Fitbit OS integration / companion app
- Move all side effects (scroll To, bottom sheet collapse) to ~reg-fx~ in re-frame
- Use this [[https://github.com/philoskim/debux][debug library]]
